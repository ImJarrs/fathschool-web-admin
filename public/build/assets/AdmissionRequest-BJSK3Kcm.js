import{_ as D}from"./AppLayout-D06oZWsy.js";import{T as V}from"./ToolTip-DNh-kznG.js";import{P as E}from"./Pagination-DHbdUHOs.js";import{_ as P,N as T,r as n,c as U,o as c,w as a,a as o,b as t,i as u,t as i,l as h,e as m,F as G,j as X}from"./app-B4siR4nP.js";import z from"./Show-SOFqsXCw.js";import{r as K}from"./XMarkIcon-BWTnXq2K.js";import{r as H}from"./CheckIcon-CjTfIMhZ.js";import{r as J}from"./MagnifyingGlassIcon-D3UcIlUc.js";import{r as Q}from"./EyeIcon-BOU59fVo.js";import{r as W}from"./PencilSquareIcon-D3Yw7vGl.js";import"./index-DtyboiO1.js";import"./TopBarMenu-nQHiLmrq.js";import"./CheckCircleIcon-DRQ2Sg4c.js";import"./WarningToast-C-jPV3vQ.js";import"./UserIcon-C-1rgfXS.js";import"./PlusCircleIcon-BZ251gFF.js";import"./Bars3Icon-C3NvXC29.js";import"./Square3Stack3DIcon-DwnYAGw6.js";const Y={components:{AppLayout:D,ToolTip:V,PencilSquareIcon:W,Pagination:E,EyeIcon:Q,MagnifyingGlassIcon:J,CheckIcon:H,XMarkIcon:K,ShowModal:z,NothingFound:T},props:{admission_requests:Array,filter_data:Object,classes:Object,departments:Object},data(){return{loading:!1,visible:!1,show_admission:"",options:[],options2:[],filter:{keyword:this.filter_data.keyword??null,course:this.filter_data.course??null,department:this.filter_data.department??null}}},methods:{filterData(){this.loading=!0,this.$inertia.get(this.route("student.admission.request"),this.filter,{preserveScroll:!0,onFinish:e=>{this.loading=!1}})},filterOption(e,l){return l.label.toLowerCase().indexOf(e.toLowerCase())>=0},destroy(e){if(confirm("Are you sure to reject the request?"))this.$inertia.delete(this.route("student.admission.request.reject",e));else return!1},show(e){this.show_admission=e,this.visible=!0},hide(e){this.visible=!1}},created(){this.options.push({value:"",label:"All"});for(const[e,l]of Object.entries(this.classes))this.options.push({value:l.slug,label:l.name});this.options2.push({value:"",label:"All"});for(const[e,l]of Object.entries(this.departments))this.options2.push({value:l.slug,label:l.name})}},Z={class:"mb-4"},$={class:"flex col-span-2"},ee={class:"relative w-full"},te={type:"submit",class:"absolute top-0 right-0 p-2.5 text-sm font-medium text-white bg-blue-700 rounded-r-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},oe={class:"sr-only"},se={class:"col-span-2"},ne={class:"col-span-2"},le={class:"col-span-1"},ie={class:"py-5 px-5"},re={class:"py-5"},ae={class:"py-5"},de={class:"py-5"},ce={class:"py-5 w-50"},ue={width:"10%",class:"py-5"},pe={scope:"row",class:"flex items-center py-5 px-5 text-gray-900 whitespace-nowrap dark:text-white"},_e={class:"pl-3"},he={class:"text-base font-semibold dark:text-gray-400"},me={class:"font-normal text-gray-500 dark:text-gray-400"},fe={class:"py-5"},be={class:"py-5"},ge={class:"py-5"},ye={class:"py-5 w-96 pr-3"},ve={class:"py-5 flex gap-2"},ke=["onClick"],we=["onClick"],Ce={key:1},Ae={colspan:"4",class:"text-center p-4"},Se={class:"flex justify-center"};function Be(e,l,p,Ie,r,d){const f=n("BreadcrumbLink"),k=n("Breadcrumb"),b=n("global-button"),w=n("page-header"),C=n("global-input"),A=n("MagnifyingGlassIcon"),g=n("a-select"),S=n("CheckIcon"),_=n("tool-tip"),B=n("Link"),I=n("EyeIcon"),F=n("XMarkIcon"),O=n("NothingFound"),j=n("global-table"),L=n("pagination"),x=n("a-button"),M=n("show-modal"),R=n("a-modal"),q=n("AppLayout");return c(),U(q,{title:e.__("Student Admission Request")},{default:a(()=>[o(k,null,{default:a(()=>[o(f,{href:e.route("student.admission.index"),title:"Student Admission"},null,8,["href"]),o(f,{title:e.__("Student Admission Request")},null,8,["title"])]),_:1}),t("div",null,[o(w,null,{content:a(()=>[o(b,{loading:!1,"preserve-scroll":"",type:"link",url:e.route("student.admission.index"),theme:"primary"},{default:a(()=>[u(i(e.__("All Student")),1)]),_:1},8,["url"])]),default:a(()=>[u(i(e.__("Student Admission Request"))+" ",1)]),_:1}),t("div",Z,[t("form",{class:"items-center grid grid-cols-1 md:grid-cols-7 gap-6",onSubmit:l[3]||(l[3]=h(s=>d.filterData(),["prevent"]))},[t("div",$,[t("div",ee,[o(C,{type:"search",modelValue:r.filter.keyword,"onUpdate:modelValue":l[0]||(l[0]=s=>r.filter.keyword=s),class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Keyword")},null,8,["modelValue","placeholder"]),t("button",te,[o(A,{class:"w-5 h-5"}),t("span",oe,i(e.__("Search")),1)])])]),t("div",se,[o(g,{class:"width-100",size:"large",value:r.filter.course,"onUpdate:value":l[1]||(l[1]=s=>r.filter.course=s),"show-search":"",placeholder:e.__("Select a course"),options:r.options,"filter-option":d.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["value","placeholder","options","filter-option","onFocus","onBlur","onChange"])]),t("div",ne,[o(g,{class:"width-100",size:"large",value:r.filter.department,"onUpdate:value":l[2]||(l[2]=s=>r.filter.department=s),"show-search":"",placeholder:e.__("Select a department"),options:r.options2,"filter-option":d.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["value","placeholder","options","filter-option","onFocus","onBlur","onChange"])]),t("div",le,[o(b,{loading:r.loading,type:"submit",theme:"primary"},{default:a(()=>[u(i(e.__("Search")),1)]),_:1},8,["loading"])])],32)]),o(j,null,{head:a(()=>[t("th",ie,i(e.__("Student")),1),t("th",re,i(e.__("Parent Email")),1),t("th",ae,i(e.__("Course")),1),t("th",de,i(e.__("Department")),1),t("th",ce,i(e.__("Address")),1),t("th",ue,i(e.__("Action")),1)]),body:a(()=>[p.admission_requests.data.length>0?(c(!0),m(G,{key:0},X(p.admission_requests.data,s=>{var y,v;return c(),m("tr",{key:s.id,class:"border-t dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[t("th",pe,[t("div",_e,[t("div",he,i(s.name),1),t("div",me,i(s.email),1)])]),t("td",fe,i(s.parent_email),1),t("td",be,i(((y=s.class)==null?void 0:y.name)??""),1),t("td",ge,i(((v=s.department)==null?void 0:v.name)??""),1),t("td",ye,i(s.address??""),1),t("td",ve,[o(B,{"preserve-scroll":"",href:e.route("student.admission.request.accept",s.id),class:"group relative"},{default:a(()=>[o(S,{classes:"w-6 h-6 text-blue-400 hover:text-blue-300"}),o(_,{text:e.__("Accept Request")},null,8,["text"])]),_:2},1032,["href"]),t("button",{type:"button",onClick:h(N=>d.show(s),["prevent"]),class:"group relative"},[o(I,{classes:"w-6 h-6 text-pink-400 hover:text-pink-300"}),o(_,{text:e.__("Details Request")},null,8,["text"])],8,ke),t("button",{type:"button",onClick:h(N=>d.destroy(s.id),["prevent"]),class:"group relative"},[o(F,{class:"w-6 h-6 text-red-400 hover:text-red-300"}),o(_,{text:e.__("Reject Request")},null,8,["text"])],8,we)])])}),128)):(c(),m("tr",Ce,[t("td",Ae,[o(O,{asShow:"div"})])]))]),_:1}),t("div",Se,[o(L,{class:"mt-6 mb-6",links:p.admission_requests.links},null,8,["links"])])]),o(R,{visible:r.visible,"onUpdate:visible":l[4]||(l[4]=s=>r.visible=s),title:"Admission Details",onOk:d.hide},{footer:a(()=>[o(x,{key:"back",onClick:d.hide},{default:a(()=>[u(i(e.__("Close")),1)]),_:1},8,["onClick"])]),default:a(()=>[o(M,{admission:r.show_admission},null,8,["admission"])]),_:1},8,["visible","onOk"])]),_:1},8,["title"])}const Ke=P(Y,[["render",Be]]);export{Ke as default};
