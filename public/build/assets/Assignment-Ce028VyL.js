import{_ as E}from"./AppLayout-pRkTteQX.js";import{T as U}from"./ToolTip-BDAKiZ28.js";import{_ as W}from"./Modal-BLSUD_Cv.js";import{ac as Y,a as s,ad as q,ae as z,_ as G,N as H,r as a,c as L,o as p,w as c,b as g,e as _,i as j,t as m,F as I,j as D,h as V,f as M}from"./app-R3TKzMFz.js";import J from"./SingleAssignment-BPQRRze4.js";import{P as Q}from"./Pagination-BOIqYq_w.js";import R from"./Filter-CQXRCquh.js";import"./index-KXBnMdcv.js";import"./TopBarMenu-CcNsgK0k.js";import"./CheckCircleIcon-B4BTDw9l.js";import"./XMarkIcon-8_3jvOSV.js";import"./WarningToast-B-mvdry_.js";import"./UserIcon-CI54yQqe.js";import"./PlusCircleIcon-GzopV6YD.js";import"./Bars3Icon-BbGKyUny.js";import"./HashtagIcon-5eiFtfs7.js";import"./multiselect-S7NpFuS0.js";/* empty css                */var X=["class","component","viewBox","spin","rotate","tabindex","onClick"];function O(e){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?Object(arguments[r]):{},i=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),i.forEach(function(t){T(e,t,o[t])})}return e}function T(e,r,o){return r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}function Z(e,r){if(e==null)return{};var o=$(e,r),i,t;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)i=n[t],!(r.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}function $(e,r){if(e==null)return{};var o={},i=Object.keys(e),t,n;for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&(o[t]=e[t]);return o}var B=function(r,o){var i=o.attrs,t=o.slots,n=O({},r,i),k=n.class,x=n.component,f=n.viewBox,w=n.spin,b=n.rotate,C=n.tabindex,v=n.onClick,S=Z(n,X),l=t.default&&t.default(),P=l&&l.length,h=t.component;Y();var A=T({anticon:!0},k,k),F={"anticon-spin":w===""||!!w},u=b?{msTransform:"rotate(".concat(b,"deg)"),transform:"rotate(".concat(b,"deg)")}:void 0,d=O({},q,{viewBox:f,class:F,style:u});f||delete d.viewBox;var N=function(){return x?s(x,d,{default:function(){return[l]}}):h?h(d):P?(z(!!f||l.length===1&&l[0]&&l[0].type==="use"),s("svg",O({},d,{viewBox:f}),[l])):null},y=C;return y===void 0&&v&&(y=-1,S.tabindex=y),s("span",O({role:"img"},S,{onClick:v,class:A}),[N()])};B.props={spin:Boolean,rotate:Number,viewBox:String,ariaLabel:String};B.inheritAttrs=!1;B.displayName="Icon";const K={components:{AppLayout:E,ToolTip:U,FilterComponent:R,Pagination:Q,FileUploadModal:W,InboxOutlined:B,SingleAssignment:J,NothingFound:H},props:{assignments:Object,filter_data:Object,subjects:Array},data(){return{visible:!1,form:M.useForm({assignment:"",file:"",description:""}),filter:M.useForm({keyword:this.filter_data.keyword??"",status:this.filter_data.status??"",teacher_id:this.filter_data.teacher_id??"",subject_id:this.filter_data.subject_id??""})}},methods:{closeModal(e){this.form.progress?e&&e!=null&&(this.form.reset("file"),this.$refs.file_input.value="",this.visible=!1):(this.form.reset("file"),this.$refs.file_input.value="",this.visible=!1)},reviewMail(e){this.$inertia.post(this.route("assignment.review.mail",e),{preserveState:!0,onSuccess:()=>form.reset("file","description")})},picFile(e){this.form.file=e.target.files[0]},submitAssignment(e){this.form.assignment=e,this.visible=!0},upload(){this.form.post(this.route("assignment.submit"),{preserveScroll:!0,onSuccess:()=>{this.closeModal()}})},filterDataSet(e){this.filter.keyword=e.keyword??"",this.filter.status=e.status??"",this.filter.teacher_id=e.teacher_id??"",this.filter.subject_id=e.subject_id??"",this.filterData()},filterData(){this.filter.get(this.route("assignment.list"))}}},ee={class:"font-bold text-xl py-6 dark:text-gray-400"},te={class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-2"},re={key:1,class:"text-center text-gray-400 text-base mt-4"},ne={class:"flex justify-center"},oe={class:"block text-gray-500 !text-left"},se={key:0},ie=["value"];function ae(e,r,o,i,t,n){const k=a("BreadcrumbLink"),x=a("Breadcrumb"),f=a("page-header"),w=a("single-assignment"),b=a("NothingFound"),C=a("pagination"),v=a("global-label"),S=a("global-input"),l=a("input-error"),P=a("global-textarea"),h=a("global-button"),A=a("file-upload-modal"),F=a("AppLayout");return p(),L(F,{title:e.__("Assignments")},{default:c(()=>[s(x,null,{default:c(()=>[s(k,{title:e.__("Assignments")},null,8,["title"])]),_:1}),g("div",null,[s(f,null,{default:c(()=>[j(m(e.__("Assignment List")),1)]),_:1}),o.assignments.data.length!=0?(p(!0),_(I,{key:0},D(o.assignments.data,(u,d)=>(p(),_(I,{key:d},[g("div",ee,m(d),1),g("div",te,[(p(!0),_(I,null,D(u,(N,y)=>(p(),L(w,{key:y,submitAssignmentFunctionParent:n.submitAssignment,assignment:N},null,8,["submitAssignmentFunctionParent","assignment"]))),128))])],64))),128)):(p(),_("div",re,[s(b,{asShow:"div"})])),g("div",ne,[s(C,{class:"mt-6",links:o.assignments.links},null,8,["links"])]),r[4]||(r[4]=g("br",null,null,-1))]),s(A,{show:t.visible,onClose:n.closeModal},{title:c(()=>[j(m(e.__("Submit Your Assignment")),1)]),content:c(()=>[s(v,{class:"text-left",for:"file",value:"Select Your File",required:!0}),s(S,{ref:"file_input",type:"file",onChange:r[0]||(r[0]=u=>n.picFile(u)),placeholder:e.__("Description"),id:"name",error:e.$page.props.errors.file,class:"block w-full text-xs text-gray-900 bg-gray-50 rounded-lg border border-gray-300 cursor-pointer dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400"},null,8,["placeholder","error"]),g("span",oe,m(e.__("Supported format"))+" - png, jpg, jpeg, pdf, zip, doc, docx",1),s(l,{error:e.$page.props.errors.file},null,8,["error"]),t.form.file?(p(),_("div",se,[t.form.progress?(p(),_("progress",{key:0,class:"mt-2 w-full rounded-full",value:t.form.progress.percentage,max:"100"},m(t.form.progress.percentage)+"% ",9,ie)):V("",!0)])):V("",!0),s(v,{for:"file",value:"Description",class:"mt-5 text-left"}),s(P,{placeholder:e.__("Description"),id:"name",error:e.$page.props.errors.description,modelValue:t.form.description,"onUpdate:modelValue":r[1]||(r[1]=u=>t.form.description=u),class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",rows:"6"},null,8,["placeholder","error","modelValue"])]),footer:c(()=>[s(h,{loading:!1,theme:"outline-danger",type:"button",onClick:r[2]||(r[2]=u=>n.closeModal(!0)),class:"mr-2"},{default:c(()=>[j(m(e.__("Cancel")),1)]),_:1}),s(h,{loading:t.form.processing,type:"button",onClick:r[3]||(r[3]=u=>n.upload())},{default:c(()=>[j(m(e.__("Save")),1)]),_:1},8,["loading"])]),_:1},8,["show","onClose"])]),_:1},8,["title"])}const Ce=G(K,[["render",ae]]);export{Ce as default};
