import{z as _,x as N,A as R,g as F,B as T,C as G,D as q,E as H,y as D,G as B,_ as W,r as y,c as J,o as Q,w as C,b as k,a as S,i as X,t as M,f as Y}from"./app-R3TKzMFz.js";var Z=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],$=function(e){return Z.map(function(n){return n.toLowerCase()}).indexOf(e.toLowerCase())!==-1},ee=function(e,n,t){Object.keys(n).filter($).forEach(function(r){var o=n[r];typeof o=="function"&&(r==="onInit"?o(e,t):t.on(r.substring(2),function(l){return o(l,t)}))})},ne=function(e,n,t,r){var o=e.modelEvents?e.modelEvents:null,l=Array.isArray(o)?o.join(" "):o;_(r,function(u,f){t&&typeof u=="string"&&u!==f&&u!==t.getContent({format:e.outputFormat})&&t.setContent(u)}),t.on(l||"change input undo redo",function(){n.emit("update:modelValue",t.getContent({format:e.outputFormat}))})},te=function(e,n,t,r,o,l){r.setContent(l()),t.attrs["onUpdate:modelValue"]&&ne(n,t,r,o),ee(e,t.attrs,r)},j=0,I=function(e){var n=Date.now(),t=Math.floor(Math.random()*1e9);return j++,e+"_"+t+j+String(n)},oe=function(e){return e!==null&&e.tagName.toLowerCase()==="textarea"},A=function(e){return typeof e>"u"||e===""?[]:Array.isArray(e)?e:e.split(" ")},ie=function(e,n){return A(e).concat(A(n))},re=function(e){return e==null},P=function(e){var n;return typeof((n=e.options)===null||n===void 0?void 0:n.set)=="function"&&e.options.isRegistered("disabled")},U=function(){return{listeners:[],scriptId:I("tiny-script"),scriptLoaded:!1}},ae=function(){var e=U(),n=function(o,l,u,f){var a=l.createElement("script");a.referrerPolicy="origin",a.type="application/javascript",a.id=o,a.src=u;var i=function(){a.removeEventListener("load",i),f()};a.addEventListener("load",i),l.head&&l.head.appendChild(a)},t=function(o,l,u){e.scriptLoaded?u():(e.listeners.push(u),o.getElementById(e.scriptId)||n(e.scriptId,o,l,function(){e.listeners.forEach(function(f){return f()}),e.scriptLoaded=!0}))},r=function(){e=U()};return{load:t,reinitialize:r}},le=ae(),ue=function(){return typeof window<"u"?window:global},v=function(){var e=ue();return e&&e.tinymce?e.tinymce:null},se={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,readonly:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return e==="html"||e==="text"}}},c=function(){return c=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c.apply(this,arguments)},de=function(e,n,t,r){return e(r||"div",{id:n,ref:t})},ce=function(e,n,t){return e("textarea",{id:n,visibility:"hidden",ref:t})},O={selector:void 0,target:void 0},V=function(e,n){var t;typeof((t=e.mode)===null||t===void 0?void 0:t.set)=="function"?e.mode.set(n):e.setMode(n)},fe=N({props:se,setup:function(e,n){var t=e.init?c(c({},e.init),O):c({},O),r=R(e),o=r.disabled,l=r.readonly,u=r.modelValue,f=r.tagName,a=F(null),i=null,p=e.id||I("tiny-vue"),m=e.init&&e.init.inline||e.inline,w=!!n.attrs["onUpdate:modelValue"],E=!0,x=e.initialValue?e.initialValue:"",h="",L=function(s){return w?function(){return u!=null&&u.value?u.value:""}:function(){return s?x:h}},b=function(){var s=L(E),d=c(c({},t),{disabled:e.disabled,readonly:e.readonly,target:a.value,plugins:ie(t.plugins,e.plugins),toolbar:e.toolbar||t.toolbar,inline:m,license_key:e.licenseKey,setup:function(g){i=g,!P(i)&&e.disabled===!0&&V(i,"readonly"),g.on("init",function(K){return te(K,e,n,g,u,s)}),typeof t.setup=="function"&&t.setup(g)}});oe(a.value)&&(a.value.style.visibility=""),v().init(d),E=!1};_(l,function(s){i!==null&&V(i,s?"readonly":"design")}),_(o,function(s){i!==null&&(P(i)?i.options.set("disabled",s):V(i,s?"readonly":"design"))}),_(f,function(s){var d;i&&(w||(h=i.getContent()),(d=v())===null||d===void 0||d.remove(i),B(function(){return b()}))}),T(function(){if(v()!==null)b();else if(a.value&&a.value.ownerDocument){var s=e.cloudChannel?e.cloudChannel:"7",d=e.apiKey?e.apiKey:"no-api-key",g=re(e.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(d,"/tinymce/").concat(s,"/tinymce.min.js"):e.tinymceScriptSrc;le.load(a.value.ownerDocument,g,b)}}),G(function(){v()!==null&&v().remove(i)}),m||(q(function(){E||b()}),H(function(){var s;i&&(w||(h=i.getContent()),(s=v())===null||s===void 0||s.remove(i))}));var z=function(s){var d;i&&(h=i.getContent(),(d=v())===null||d===void 0||d.remove(i),t=c(c(c({},t),s),O),B(function(){return b()}))};return n.expose({rerender:z,getEditor:function(){return i}}),function(){return m?de(D,p,a,e.tagName):ce(D,p,a)}}});const me={props:{comment:Object,reply:Boolean},components:{Editor:fe},data(){return{visible:!1,form:Y.useForm({comment:this.comment.comment,_method:"PUT"})}},watch:{comment:{deep:!0,handler(e,n){this.form.comment=e.comment}}},methods:{showModal(){this.visible=!0},handleOk(e){this.visible=!1},submit(){this.reply?this.form.post(this.route("reply.update",this.comment.id),{preserveScroll:!0,onSuccess:e=>{this.visible=!1}}):this.form.post(this.route("comment.update",this.comment.id),{preserveScroll:!0,onSuccess:e=>{this.visible=!1}})}}},ve={class:"w-full dark:bg-gray-800 dark:border-gray-700 rounded-lg"},ge={class:"mb-1"};function be(e,n,t,r,o,l){const u=y("global-label"),f=y("editor"),a=y("input-error"),i=y("global-button"),p=y("a-modal");return Q(),J(p,{width:"500px",visible:o.visible,"onUpdate:visible":n[2]||(n[2]=m=>o.visible=m),"wrap-style":{overflow:"auto"},onOk:l.handleOk},{title:C(()=>[k("div",{ref:"editmodal",class:"width-100"},M(e.__("Edit Comment")),513)]),footer:C(()=>[S(i,{loading:e.loading,type:"button",onClick:n[1]||(n[1]=m=>l.submit()),class:"text-white bg-blue-500 dark:bg-blue-500 hover:bg-blue-500 active:bg-blue-600 dark:active:bg-blue-600 focus:border-blue-600 dark:focus:border-blue-600 focus:ring focus:ring-blue-300 mr-2 mb-2 dark:focus:ring-blue-300"},{default:C(()=>[X(M(e.__("Edit")),1)]),_:1},8,["loading"])]),default:C(()=>[k("div",ve,[k("div",ge,[S(u,{for:"comment",value:"Comment",required:!1}),S(f,{placeholder:e.__("Description"),modelValue:o.form.comment,"onUpdate:modelValue":n[0]||(n[0]=m=>o.form.comment=m),"api-key":"kjn96qwsicri2i9dtz5ilb5saih3za74f54lkjx2uw7xe1vm",init:{menubar:!1,plugins:"lists link image emoticons",toolbar:"styleselect | bold italic forecolor backcolor  | alignleft aligncenter alignright alignjustify | bullist numlist | link image emoticons"}},null,8,["placeholder","modelValue"]),S(a,{error:e.$page.props.errors.comment},null,8,["error"])])])]),_:1},8,["visible","onOk"])}const pe=W(me,[["render",be]]);export{pe as default};
