import{g,B as P,r as n,e as u,o as i,b as e,a as t,w as m,u as v,f as y,t as r,i as h,d as f,F as x,_ as C,N as T,c as b,j as I}from"./app-R3TKzMFz.js";import"./index-KXBnMdcv.js";import{_ as B,k as N,l as O,m as j,S as A}from"./TopBarMenu-CcNsgK0k.js";import{S as D,W as E,A as G}from"./WarningToast-B-mvdry_.js";import{L as F}from"./LineChartOne-DuOxEizY.js";import M from"./SingleChildCard-EEA-KYZc.js";import{_ as V}from"./StatCard-BJkF5uuD.js";import{T as W}from"./TdUserShow-2NeczW4c.js";import{P as z}from"./Pagination-BOIqYq_w.js";import R from"./Transaction-B3CWdF1N.js";import{r as U}from"./EyeIcon-CK2ADUCC.js";import"./CheckCircleIcon-B4BTDw9l.js";import"./XMarkIcon-8_3jvOSV.js";import"./auto-CkVXdHX2.js";import"./LinkIcon-D8W6wqoX.js";const H={class:"sticky top-0 inset-x-0 flex flex-wrap sm:justify-start sm:flex-nowrap z-[48] w-full bg-white border-b text-sm py-2.5 sm:py-4 dark:bg-gray-800 dark:border-gray-700"},Y={class:"flex basis-full items-center w-full mx-auto px-4 sm:px-6 md:px-8","aria-label":"Global"},J={class:"mr-5"},K={class:"w-full flex items-center justify-end ml-auto sm:justify-end sm:gap-x-3 sm:order-3"},Q={class:"sticky top-[51px] inset-x-0 z-20 bg-white border-y px-4 sm:px-6 sm:top-[71px] md:px-8 lg:hidden dark:bg-gray-800 dark:border-gray-700"},X={class:"flex items-center py-4"},Z={type:"button",class:"text-gray-500 hover:text-gray-600","aria-label":"Toggle navigation"},ee={class:"sr-only"},te={class:"ml-3 flex items-center whitespace-nowrap min-w-0","aria-label":"Breadcrumb"},oe={class:"flex items-center text-sm text-gray-800 dark:text-gray-400"},se={class:"text-sm font-semibold text-gray-800 truncate dark:text-gray-400","aria-current":"page"},ae={key:0,class:"text-gray-500 hover:text-blue-600"},ne={class:"w-full pt-10 px-4 sm:px-6 md:px-8 bg-gray-100 dark:bg-gray-900 min-h-screen"},re={__name:"ParentLayout",props:{title:String},setup(o){g(!1);let d=g(!1);return d.value=localStorage.getItem("darkMode")=="true",P(()=>{localStorage.getItem("darkMode")=="true"?document.body.classList.add("dark"):document.body.classList.remove("dark"),localStorage.getItem("selected_child");const s=document.querySelector("#quickPanel"),a=document.querySelector("#nPanel"),c=document.querySelector(".qpanel-overlay"),l=document.querySelector(".npanel-overlay");document.querySelector(".close-menu"),c.addEventListener("click",()=>{s.classList.remove("open"),a.classList.remove("open"),c.classList.remove("active"),localStorage.getItem("qPanel")=="true"?(document.querySelector("#quickPanel").classList.remove("open"),document.querySelector(".qpanel-overlay").classList.remove("active"),localStorage.setItem("qPanel","false")):(document.querySelector("#quickPanel").classList.add("open"),document.querySelector(".qpanel-overlay").classList.add("active"),localStorage.setItem("qPanel","true"))}),l.addEventListener("click",()=>{a.classList.remove("open"),l.classList.remove("active"),localStorage.getItem("nPanel")=="true"?(document.querySelector("#nPanel").classList.remove("open"),document.querySelector(".npanel-overlay").classList.remove("active"),localStorage.setItem("nPanel","false")):(document.querySelector("#nPanel").classList.add("open"),document.querySelector(".npanel-overlay").classList.add("active"),localStorage.setItem("nPanel","true"))})}),(s,a)=>{const c=n("app-logo"),l=n("toggle-bar"),_=n("ArrowRightIcon");return i(),u("div",null,[e("header",H,[e("nav",Y,[e("div",J,[t(v(y.Link),{class:"flex-none text-xl font-semibold dark:text-white",href:s.route("dashboard"),"aria-label":"Brand"},{default:m(()=>[t(c,{class:"block h-9 w-auto"})]),_:1},8,["href"])]),e("div",K,[t(B)])])]),e("div",Q,[e("div",X,[e("button",Z,[e("span",ee,r(s.__("Toggle Navigation")),1),t(l)]),e("div",te,[e("div",oe,[h(r(s.$page.props.auth.role)+" ",1),t(_,{class:"w-6 h-6"})]),e("div",se,[s.$slots.header?(i(),u("span",ae,[f(s.$slots,"header")])):(i(),u(x,{key:1},[h(r(s.__("Application")),1)],64))])])])]),e("div",ne,[t(v(y.Head),{title:o.title},null,8,["title"]),t(N),f(s.$slots,"default")]),t(O),t(j),t(D),t(E),a[0]||(a[0]=e("div",{class:"sidebar-overlay"},null,-1)),a[1]||(a[1]=e("div",{class:"qpanel-overlay"},null,-1)),a[2]||(a[2]=e("div",{class:"npanel-overlay"},null,-1)),t(G)])}}},le={props:{all_childrens:Object,unpaid_invoices:Array},data(){return{activeTab:"day",tour:null,steps:[{title:this.getOnboardingContent("your_children_section","title"),text:this.getOnboardingContent("your_children_section","description"),attachTo:{element:".your_children_section",on:"bottom"},buttons:[{action:this.tourGoNext,text:"Next"}]},{title:this.getOnboardingContent("unpaid_invoice_section","title"),text:this.getOnboardingContent("unpaid_invoice_section","description"),attachTo:{element:".unpaid_invoice_section",on:"bottom"},buttons:[{action:this.tourGoNext,text:"Complete"}]}]}},components:{ParentLayout:re,LineChartOne:F,SingleChildCard:M,Pagination:z,StatCard:V,EyeIcon:U,TdUserShow:W,Transaction:R,NothingFound:T},mounted:function(){this.tour=new A.Tour({useModalOverlay:!0,tourName:"UserTour",defaultStepOptions:{scrollTo:{behavior:"smooth",block:"center"},cancelIcon:{enabled:!0,label:"Close tour"}}}),this.steps.forEach(o=>{this.tour.addStep(o)}),this.$page.props.auth.tour_completed||this.tour.start(),this.tour.on("cancel",()=>{this.$inertia.post(this.route("tour.completed"),{},{preserveScroll:!0})})},methods:{tourGoNext(){this.tour.next(),this.completeStep()},completeStep(){let o=this.tour.steps.length,d=this.tour.steps.indexOf(this.tour.currentStep);o==d+1&&this.$inertia.post(this.route("tour.completed"),{},{preserveScroll:!0})},tourGoback(){this.tour.back()},clickTab(o){this.activeTab=o},visitChild(o){localStorage.setItem("selected_child",o),this.$inertia.get(this.route("kid.dashboard",o))}}},ie={class:"container mx-auto"},ce={class:"container mx-auto pb-12"},de={class:""},ue={id:"childrens"},me={class:"py-3 font-bold text-lg dark:text-gray-400 your_children_section"},_e={class:"flex gap-6 overflow-x-auto"},pe={class:"py-3 mt-2 font-bold text-lg dark:text-gray-400 unpaid_invoice_section"},he={class:"mt-1"},ge={class:"bg-white dark:bg-gray-800 rounded-lg"},ve={class:"dark:text-gray-400 dark:bg-gray-800 rounded-lg"},ye={class:"flex justify-center"};function fe(o,d,s,a,c,l){const _=n("BreadcrumbLink"),k=n("Breadcrumb"),S=n("page-header"),L=n("single-child-card"),q=n("transaction"),$=n("pagination"),w=n("ParentLayout");return i(),b(w,{title:o.__("Dashboard")},{default:m(()=>[e("div",ie,[t(k,null,{default:m(()=>[t(_,{title:o.__("Dashboard")},null,8,["title"])]),_:1})]),e("div",ce,[t(S,null,{default:m(()=>[h(r(o.__("Dashboard")),1)]),_:1}),e("div",de,[e("div",ue,[e("div",me,r(o.__("Your Children"))+" ("+r(s.all_childrens.length)+") ",1),e("div",_e,[(i(!0),u(x,null,I(s.all_childrens,p=>(i(),b(L,{key:p.id,onClick:be=>l.visitChild(p.profile.roll_no),child:p},null,8,["onClick","child"]))),128))])]),e("div",pe,r(o.__("Pending Fees"))+" ("+r(s.unpaid_invoices.total)+") ",1),e("div",he,[e("div",ge,[e("div",ve,[t(q,{transactions:s.unpaid_invoices},null,8,["transactions"]),e("div",ye,[t($,{class:"mt-6",links:s.unpaid_invoices.links},null,8,["links"])])])])])])])]),_:1},8,["title"])}const Ae=C(le,[["render",fe]]);export{Ae as default};
