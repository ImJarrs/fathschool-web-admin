import{_ as V}from"./AppLayout-D06oZWsy.js";import{_ as C,k as h,r as l,c as F,o as B,w as u,a as o,b as s,t as k,i as v,l as S,n as y,m as L,H as U}from"./app-B4siR4nP.js";import"./index-DtyboiO1.js";import"./TopBarMenu-nQHiLmrq.js";import"./CheckCircleIcon-DRQ2Sg4c.js";import"./XMarkIcon-BWTnXq2K.js";import"./WarningToast-C-jPV3vQ.js";import"./UserIcon-C-1rgfXS.js";import"./PlusCircleIcon-BZ251gFF.js";import"./Bars3Icon-C3NvXC29.js";const E={props:{courses:Object,exam:Object,update:Boolean},components:{AppLayout:V},data(){var e,r,p,f,t,d,g,c,m,b,i;return{loading:!1,customDateFormat:"DD-MM-YYYY",options:[],options2:[],options3:[],text:this.exam?"Update Exam":"Create Exam",date:[(e=this.exam)!=null&&e.start_date?h((r=this.exam)==null?void 0:r.start_date,this.customDateFormat):"",(p=this.exam)!=null&&p.end_date?h((f=this.exam)==null?void 0:f.end_date,this.customDateFormat):""],form:{name:((t=this.exam)==null?void 0:t.name)??"",grade:((d=this.exam)==null?void 0:d.grade)??"",gpa:((g=this.exam)==null?void 0:g.gpa)??"",start_date:((c=this.exam)==null?void 0:c.start_date)??"",end_date:(m=this.exam)==null?void 0:m.end_date,description:((b=this.exam)==null?void 0:b.description)??"",course:((i=this.exam)==null?void 0:i.course_id)??"",_method:this.exam?"PUT":"POST"}}},watch:{date:{deep:!0,handler(e,r){e&&(console.log(e),this.form.start_date=h(e[0]),this.form.end_date=h(e[1]))}}},created(){for(const[e,r]of Object.entries(this.courses))this.options2.push({value:r.id,label:r.name});this.update||(this.form.course=this.options2[0]?this.options2[0].value:"")},methods:{submit(){this.loading=!0,this.exam?this.$inertia.post(this.route("exam.update",this.exam.id),this.form,{preserveScroll:!0,onSuccess:()=>{this.reset()},onFinish:e=>{this.loading=!1}}):this.$inertia.post(this.route("exam.store"),this.form,{preserveScroll:!0,onSuccess:()=>{this.reset()},onFinish:e=>{this.loading=!1}})},filterOption(e,r){return r.label.toLowerCase().indexOf(e.toLowerCase())>=0},reset(){this.form.name="",this.form.date=null,this.form.description="",this.form.course=[]},validateDecimal(e){var r=this.form.gpa,p=parseFloat(r).toFixed(2);this.form.gpa=p}}},O={class:"mx-auto pb-12"},q={class:"rounded-lg flex justify-between items-center mb-4 py-4 px-6 text-lg font-semibold rtl:text-right text-left text-gray-900 bg-white dark:text-white dark:bg-gray-800"},j={class:"dark:text-gray-400"},A={class:"rounded-lg"},N={class:"grid sm:grid-cols-1 md:grid-cols-2 sm:gap-1 md:gap-4"},T={class:"w-full bg-white rounded-lg border border-gray-200 p-4 dark:bg-gray-800 dark:border-gray-700"},M={class:"mb-3"},Y={class:"mb-3"},P={class:"mb-3"},z={class:"w-full bg-white rounded-lg border border-gray-200 p-4 dark:bg-gray-800 dark:border-gray-700"},G={class:"mb-3"},H={class:"mb-3"},I={class:"mb-1"},K=["placeholder"];function R(e,r,p,f,t,d){const g=l("BreadcrumbLink"),c=l("Breadcrumb"),m=l("global-button"),b=l("Link"),i=l("global-label"),_=l("global-input"),n=l("input-error"),x=l("a-select"),w=l("a-range-picker"),D=l("AppLayout");return B(),F(D,{title:e.__(t.text)},{default:u(()=>[o(c,null,{default:u(()=>[o(g,{title:e.__("text")},null,8,["title"])]),_:1}),s("div",O,[s("div",q,[s("div",j,k(e.__(t.text)),1),o(b,{"preserve-scroll":"",href:e.route("exam.index")},{default:u(()=>[o(m,{loading:!1,type:"button",theme:"primary"},{default:u(()=>[v(k(e.__("All Exam")),1)]),_:1})]),_:1},8,["href"])]),s("div",A,[s("form",{onSubmit:r[7]||(r[7]=S((...a)=>d.submit&&d.submit(...a),["prevent"]))},[s("div",N,[s("div",T,[s("div",M,[o(i,{for:"examName",value:"Enter exam name",required:!0}),o(_,{modelValue:t.form.name,"onUpdate:modelValue":r[0]||(r[0]=a=>t.form.name=a),type:"text",id:"examName",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter exam name"),error:e.$page.props.errors.name},null,8,["modelValue","placeholder","error"]),o(n,{error:e.$page.props.errors.name},null,8,["error"])]),s("div",Y,[o(i,{for:"grade",value:"Grade",required:!0}),o(_,{modelValue:t.form.grade,"onUpdate:modelValue":r[1]||(r[1]=a=>t.form.grade=a),type:"text",id:"mark",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter mark"),error:e.$page.props.errors.grade},null,8,["modelValue","placeholder","error"]),o(n,{error:e.$page.props.errors.grade},null,8,["error"])]),s("div",P,[o(i,{for:"gpa",value:"GPA",required:!0}),o(_,{modelValue:t.form.gpa,"onUpdate:modelValue":r[2]||(r[2]=a=>t.form.gpa=a),step:"any",onChange:r[3]||(r[3]=a=>d.validateDecimal(a)),type:"number",id:"gpa",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter mark"),error:e.$page.props.errors.gpa},null,8,["modelValue","placeholder","error"]),o(n,{error:e.$page.props.errors.gpa},null,8,["error"])])]),s("div",z,[s("div",G,[o(i,{for:"selectKlass",value:"Select Course",required:!0}),o(x,{class:y([e.$page.props.errors.course?"border-custom ":"","width-100"]),size:"large",value:t.form.course,"onUpdate:value":r[4]||(r[4]=a=>t.form.course=a),"show-search":"",placeholder:e.__("Select a course"),options:t.options2,"filter-option":d.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["class","value","placeholder","options","filter-option","onFocus","onBlur","onChange"]),o(n,{error:e.$page.props.errors.course},null,8,["error"])]),s("div",H,[o(i,{for:"date",value:"Date",required:!0}),o(w,{class:y([e.$page.props.errors.date?"border-custom":"","custom-input dark:bg-gray-700 dark:border-gray-700 dark:text-gray-400"]),name:"date","disabled-date":e.disabledDate,"disabled-time":e.disabledRangeTime,value:t.date,"onUpdate:value":r[5]||(r[5]=a=>t.date=a),format:t.customDateFormat,id:"testDate"},null,8,["class","disabled-date","disabled-time","value","format"]),o(n,{error:e.$page.props.errors.start_date},null,8,["error"]),o(n,{error:e.$page.props.errors.end_date},null,8,["error"])]),s("div",I,[o(i,{for:"description",value:"Description",required:!1}),L(s("textarea",{rows:"","onUpdate:modelValue":r[6]||(r[6]=a=>t.form.description=a),name:"",placeholder:e.__("Description"),id:"description",class:y([e.$page.props.errors.description?"border-red-500 dark:border-red-500":"","pl-4 bg-gray-50 border rounded-lg border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"])},null,10,K),[[U,t.form.description]]),o(n,{error:e.$page.props.errors.description},null,8,["error"])])])]),o(m,{loading:t.form.processing,type:"submit",cssClass:"w-full mt-3",theme:"primary"},{default:u(()=>[v(k(e.__("Save")),1)]),_:1},8,["loading"])],32)])])]),_:1},8,["title"])}const ae=C(E,[["render",R],["__scopeId","data-v-e7618c75"]]);export{ae as default};
