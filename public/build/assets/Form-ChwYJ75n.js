import{_ as M,k as g,f as x,r as i,c as D,o as u,w as p,b as s,a as l,e as b,F as U,j as O,m as k,p as C,t as m,h as P,n as v,v as Y,i as j}from"./app-R3TKzMFz.js";import{s as E}from"./multiselect-S7NpFuS0.js";/* empty css                */import{T as F}from"./ToolTip-BDAKiZ28.js";const R={components:{Multiselect:E,ToolTip:F},props:{users:Object,meeting:Object,roles:Object,errors:Object},data(){return{filter_users:[],customDateFormat:"DD-MM-YYYY",timeFormat:"h:m A",visible:!1,start_date:null,form:x.useForm({topic:"",start_date:"",password:"",selected_role:"Student",participants:[],description:"",all_user:!1,_method:this.meeting?"PUT":"POST"})}},watch:{meeting:{deep:!0,handler(e,t){this.form.topic=e.topic,this.start_date=g(e.start_time),this.form.start_date=g(e.start_time),this.form.description=e.description,this.form.password=e.password,this.form._method=this.meeting?"PUT":"POST";let a="";e.participants.forEach(c=>{this.form.participants.push(c.user_id),a=c.user.role??null}),this.form.selected_role=a,this.getRole(a)}}},mounted(){this.getRole(this.form.selected_role)},methods:{showModal(){this.visible=!0},handleOk(e){this.visible=!1},getRole(e){let t=[];this.users.forEach(a=>{a.role==e&&t.push(a)}),this.filter_users=t},submit(){this.start_date?this.form.start_date=g(this.start_date).format("YYYY-MM-DDTHH:mm:ssZZ"):this.form.start_date="",this.meeting?this.form.post(this.route("meeting.update",this.meeting.id),{preserveScroll:!0,onSuccess:e=>{this.visible=!1,this.form._method="POST",this.form.reset("topic","start_date","start_date","description","password")}}):this.form.post(this.route("meeting.store"),{onSuccess:e=>{this.visible=!1,this.form.reset("topic","start_date","start_date","description","password")}})}}},q={class:"w-full dark:border-gray-700 rounded-lg"},B={class:"mb-3"},H={class:"mb-3"},N={class:"mb-3"},A={class:"mb-3"},Z={class:"grid grid-cols-1 md:grid-cols-3 items-center w-full text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},z=["for"],I={class:"flex items-center pl-3"},L=["onChange","id","value"],G=["for"],J={class:"mb-3"},K={class:"md:flex justify-between items-center gap-2"},Q={key:0,class:"md:w-1/2"},W={for:"all_user",class:"flex items-center ml-4"},X={for:"all_user",class:"ml-3 flex items-center h-10 text-sm font-medium text-gray-900 dark:text-gray-300"},$={class:"width-100"};function ee(e,t,a,c,o,f){const d=i("global-label"),_=i("global-input"),n=i("input-error"),y=i("a-date-picker"),w=i("Multiselect"),V=i("global-textarea"),S=i("global-button"),T=i("a-modal");return u(),D(T,{width:"600px",visible:o.visible,"onUpdate:visible":t[8]||(t[8]=r=>o.visible=r),"wrap-style":{overflow:"auto"},onOk:f.handleOk},{title:p(()=>[s("div",$,m(e.__("Add Meeting")),1)]),footer:p(()=>[l(S,{loading:o.form.processing,type:"button",onClick:t[7]||(t[7]=r=>f.submit()),class:"text-white w-full bg-blue-500 dark:bg-blue-500 hover:bg-blue-500 active:bg-blue-600 dark:active:bg-blue-600 focus:border-blue-600 dark:focus:border-blue-600 focus:ring focus:ring-blue-300 mr-2 mb-2 dark:focus:ring-blue-300"},{default:p(()=>[j(m(e.__("Save")),1)]),_:1},8,["loading"])]),default:p(()=>[s("div",q,[s("div",B,[l(d,{for:"topic",value:"Topic",required:!0}),l(_,{type:"text",modelValue:o.form.topic,"onUpdate:modelValue":t[0]||(t[0]=r=>o.form.topic=r),id:"topic",name:"topic",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter Topic"),error:e.$page.props.errors.topic},null,8,["modelValue","placeholder","error"]),l(n,{error:e.$page.props.errors.topic},null,8,["error"])]),s("div",H,[l(d,{for:"start_date",value:"Start Date",required:!0}),l(y,{value:o.start_date,"onUpdate:value":t[1]||(t[1]=r=>o.start_date=r),id:"start_date",class:"w-full custom-input dark:bg-gray-700 dark:border-gray-700 dark:text-gray-400","show-time":"",format:e.getDateTimeFormat()+" HH:mm:ss",placeholder:e.__("Select Start Date")},null,8,["value","format","placeholder"]),l(n,{error:e.$page.props.errors.start_date},null,8,["error"])]),s("div",N,[l(d,{for:"password",value:e.__("Meeting Password"),required:!0},null,8,["value"]),l(_,{type:"password",modelValue:o.form.password,"onUpdate:modelValue":t[2]||(t[2]=r=>o.form.password=r),id:"password",name:"password",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter password"),error:e.$page.props.errors.password},null,8,["modelValue","placeholder","error"]),l(n,{error:e.$page.props.errors.password},null,8,["error"])]),s("div",A,[l(d,{for:"participants",value:e.__("Select Participants Role"),required:!0},null,8,["value"]),s("ul",Z,[(u(!0),b(U,null,O(a.roles,r=>(u(),b("label",{for:"role"+r.id,key:r.index,class:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600"},[s("div",I,[k(s("input",{"onUpdate:modelValue":t[3]||(t[3]=h=>o.form.selected_role=h),onChange:h=>f.getRole(r.name),id:"role"+r.id,type:"radio",value:r.name,name:"role",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"},null,40,L),[[C,o.form.selected_role]]),s("label",{for:"role"+r.id,class:"w-full py-3 ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},m(r.name),9,G)])],8,z))),128))])]),s("div",J,[l(d,{for:"participants",value:e.__("Participants"),required:!0},null,8,["value"]),s("div",K,[o.form.all_user?P("",!0):(u(),b("div",Q,[l(w,{mode:"multiple",modelValue:o.form.participants,"onUpdate:modelValue":t[4]||(t[4]=r=>o.form.participants=r),"close-on-select":!1,searchable:!0,"create-option":!1,placeholder:e.__("Select Participant"),options:o.filter_users.map(r=>({value:r.id,label:r.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"])])),s("div",{class:v([o.form.all_user?"w-full":"md:w-1/2","mt-2 md:mt-0 border rounded"])},[s("label",W,[k(s("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>o.form.all_user=r),id:"all_user",type:"checkbox",value:"all_user",class:v([o.form.all_user?"ml-3":"","rounded-full text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"])},null,2),[[Y,o.form.all_user]]),s("label",X,m(e.__("All Users This Role")),1)])],2)]),l(n,{error:e.$page.props.errors.participants},null,8,["error"])]),s("div",null,[l(d,{for:"description",value:e.__("Meeting Description"),required:!1},null,8,["value"]),l(V,{modelValue:o.form.description,"onUpdate:modelValue":t[6]||(t[6]=r=>o.form.description=r),id:"description",name:"description",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter Description"),error:e.$page.props.errors.description},null,8,["modelValue","placeholder","error"]),l(n,{error:e.$page.props.errors.description},null,8,["error"])])])]),_:1},8,["visible","onOk"])}const le=M(R,[["render",ee],["__scopeId","data-v-82d9ef09"]]);export{le as default};
