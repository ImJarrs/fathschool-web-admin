import{_ as F}from"./AppLayout-D06oZWsy.js";import{s as L}from"./multiselect-BtWcUH1S.js";/* empty css                */import{_ as R,N as G,r as a,c as _,o as i,w as k,a as t,b as o,t as m,i as C,n as f,l as H,e as n,h as p,F as g,j as w,m as K,v as J,k as V,f as Q}from"./app-B4siR4nP.js";import{a as W,r as X}from"./CheckCircleIcon-DRQ2Sg4c.js";import{r as Z}from"./CircleStackIcon-Dg6fV9qg.js";import{r as $}from"./TopBarMenu-nQHiLmrq.js";import{r as ee}from"./TrashIcon-Y0IuqUC6.js";import{r as re}from"./MinusCircleIcon-Cf2xp7Hy.js";import{r as te}from"./PlusCircleIcon-BZ251gFF.js";import"./index-DtyboiO1.js";import"./WarningToast-C-jPV3vQ.js";import"./UserIcon-C-1rgfXS.js";import"./Bars3Icon-C3NvXC29.js";import"./XMarkIcon-BWTnXq2K.js";const oe={components:{AppLayout:F,Multiselect:L,PlusCircleIcon:te,MinusCircleIcon:re,CheckCircleIcon:X,TrashIcon:ee,AcademicCapIcon:$,CircleStackIcon:Z,BookOpenIcon:W,NothingFound:G},props:{courses:Object,nationalities:Array,teacher:Object,subjects:Array,departments:Object},data(){return{wizard:1,date_of_birth_value:this.teacher&&this.teacher.date_of_birth?V(this.teacher.date_of_birth):null,passing_year_value:this.teacher&&this.teacher.profile?V(this.teacher.profile.passing_year):null,validate_errors:{},document_size:[1],form:Q.useForm({nik:this.teacher?this.teacher.nik:"",rfid:this.teacher?this.teacher.rfid:"",name:this.teacher?this.teacher.name:"",email:this.teacher?this.teacher.email:"",user_type:"Teacher",phone:this.teacher?this.teacher.phone:"",address:this.teacher?this.teacher.address:"",gender:this.teacher?this.teacher.gender:"",department:this.teacher?this.teacher.department_id:"",date_of_birth:this.teacher?this.teacher.date_of_birth:"",documents:[],document_titles:[],highest_degree_name:this.teacher&&this.teacher.profile?this.teacher.profile.highest_degree_name:null,institute_name:this.teacher&&this.teacher.profile?this.teacher.profile.institute_name:null,passing_year:this.teacher&&this.teacher.profile?this.teacher.profile.passing_year:null,religion:this.teacher&&this.teacher.profile?this.teacher.profile.religion:null,nationality:this.teacher&&this.teacher.profile?this.teacher.profile.nationality:null,subjects:this.subjects?this.subjects:[],_method:this.teacher?"PUT":"POST"})}},watch:{date_of_birth_value:{deep:!0,handler(l,r){l?this.form.date_of_birth=V(l).format("YYYY-MM-DD"):this.form.date_of_birth=null}},passing_year_value:{deep:!0,handler(l,r){l?this.form.passing_year=V(l).format("YYYY"):this.form.passing_year=null}},wizard:{deep:!0,handler(l,r){this.validate_errors={}}}},methods:{removeDoc(l){confirm("Are your sure ??")&&this.$inertia.post(this.route("admin.doc.destroy",l),{preserveScroll:!0})},picDocs(l){this.form.documents.push(l.target.files[0])},submit(){this.date_of_birth_value?this.form.date_of_birth=V(this.date_of_birth_value).format("DD-MM-YYYY"):this.form.date_of_birth=null,this.teacher?this.form.post(this.route("users.update",this.teacher.id),{preserveScroll:!0}):this.form.post(this.route("users.store"),{preserveScroll:!0,onSuccess:()=>{}})},wizardChange(l){l=="next"?this.validationPart(this.wizard)||(this.validate_errors={},this.wizard=this.wizard+1):this.wizard=this.wizard-1},isValidEmail(l){return/^[^@]+@\w+(\.\w+)+\w$/.test(l)},addDocument(l){l==0?this.document_size.push(1):(this.document_size.splice(l,1),this.form.document_titles.splice(l,1),this.form.documents.splice(l,1))},validationPart(l){let r=!1;return l==1?(this.form.name||(Object.assign(this.validate_errors,{name:"The name field is required"}),r=!0),this.form.email||(Object.assign(this.validate_errors,{email:"The email field is required"}),r=!0),this.isValidEmail(this.form.email)||(Object.assign(this.validate_errors,{email:"The email is invalid ."}),r=!0),this.form.date_of_birth||(Object.assign(this.validate_errors,{date_of_birth:"The date of birth field is required ."}),r=!0)):l==2?(this.form.highest_degree_name||(Object.assign(this.validate_errors,{highest_degree_name:"The highest degree name field is required ."}),r=!0),this.form.institute_name||(Object.assign(this.validate_errors,{institute_name:"The institute name field is required ."}),r=!0),this.form.passing_year||(Object.assign(this.validate_errors,{passing_year:"The passing year field is required ."}),r=!0)):(this.selected_courses||(Object.assign(this.validate_errors,{course:"The course field is required ."}),r=!0),this.form.subjects||(Object.assign(this.validate_errors,{subjects:"The subjects field is required ."}),r=!0)),r}}},le={class:"mx-auto pb-12"},se={class:"rounded-lg flex justify-between items-center mb-4 py-4 px-6 text-lg font-semibold rtl:text-right text-left text-gray-900 bg-white dark:text-white dark:bg-gray-800"},ie={class:"dark:text-gray-400"},ae={class:"w-full lg:w-1/2 mx-auto"},de={class:"flex items-center"},ne={class:"absolute whitespace-nowrap -top-3 -ml-0.5 w-full text-center mt-16 text-xs font-bold"},ue={class:"absolute whitespace-nowrap -top-3 -ml-8 w-full text-center mt-16 text-xs font-bold"},ce={class:"absolute whitespace-nowrap -ml-10 -top-3 w-full text-center mt-16 text-xs font-bold"},me={class:"w-full lg:w-1/2 mx-auto rounded-lg mt-12"},he={class:"grid sm:grid-cols-1 md:grid-cols-1 sm:gap-1 md:gap-4"},_e={class:"w-full bg-white rounded-lg border border-white p-4 dark:bg-gray-800 dark:border-gray-700"},fe={class:"mb-3"},ge={class:"grid grid-cols-1 md:grid-cols-2 gap-1"},pe={class:"mb-3"},be={class:"mb-3"},ve={class:"grid grid-cols-1 md:grid-cols-2 gap-1"},ye={class:"mb-3"},ke={class:"mb-1"},we={class:"mb-3"},Ve={class:"w-full bg-white rounded-lg border border-white p-4 dark:bg-gray-800 dark:border-gray-700"},xe={class:"mb-3"},Ce={class:"mb-1"},ze={class:"w-full bg-white rounded-lg border border-white p-4 dark:bg-gray-800 dark:border-gray-700"},je={class:"mb-3"},Ie={class:"mb-3"},De={class:"mb-3"},qe={class:"w-full bg-white rounded-lg border border-white p-4 dark:bg-gray-800 dark:border-gray-700"},Te={class:"mb-3"},Ne={class:"mb-3"},Ue={class:"mb-3"},Se={class:"mb-3"},Oe={class:"w-full"},Ye={class:"w-full"},Be=["id"],Pe=["onClick"],Ae={key:0,class:"flex flex-wrap gap-3 p-1"},Me=["href"],Ee=["onClick"],Fe={class:"ml-4"},Le={key:1,class:"w-full bg-white rounded-lg border border-white p-6 dark:bg-gray-800 dark:border-gray-700"},Re={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Ge={class:"font-bold capitalize text-base dark:text-gray-400"},He={class:"grid grid-cols-2 gap-1"},Ke=["for"],Je=["id","value"],Qe=["for"],We={key:2,class:"p-4 text-center"},Xe={class:"flex justify-end gap-2"};function Ze(l,r,b,$e,e,v){const D=a("BreadcrumbLink"),q=a("Breadcrumb"),x=a("global-button"),T=a("Link"),z=a("CheckCircleIcon"),N=a("CircleStackIcon"),U=a("AcademicCapIcon"),S=a("BookOpenIcon"),u=a("global-label"),h=a("global-input"),c=a("input-error"),j=a("a-date-picker"),O=a("global-textarea"),I=a("Multiselect"),Y=a("PlusCircleIcon"),B=a("MinusCircleIcon"),P=a("trash-icon"),A=a("NothingFound"),M=a("AppLayout");return i(),_(M,{title:l.__("Teacher Create")},{default:k(()=>[t(q,null,{default:k(()=>[t(D,{title:l.__("Teacher Create")},null,8,["title"])]),_:1}),o("div",le,[o("div",se,[o("div",ie,m(l.__("Teacher Create")),1),t(T,{"preserve-scroll":"",href:l.route("teachers.index")},{default:k(()=>[t(x,{loading:!1,type:"button",theme:"primary"},{default:k(()=>[C(m(l.__("All Teachers")),1)]),_:1})]),_:1},8,["href"])]),o("div",ae,[o("div",de,[o("div",{class:f([e.wizard>1?"text-blue-600 ":"text-gray-500","flex items-center relative"])},[o("div",{class:f([e.wizard>1?"border-blue-600":"border-white","rounded-full transition duration-500 ease-in-out h-11 w-11 py-2.5 border-2"])},[e.wizard>1?(i(),_(z,{key:0,width:"100%",height:"100%",class:"w-full h-full"})):(i(),_(N,{key:1,width:"100%",height:"100%",class:"w-full h-full"})),o("div",ne,m(l.__("Basic Information")),1)],2)],2),o("div",{class:f([e.wizard>1?"border-blue-600":"border-white","flex-auto border-t-4 transition duration-500 ease-in-out"])},null,2),o("div",{class:f([e.wizard>2?"text-blue-600 ":"text-gray-500","flex items-center relative"])},[o("div",{class:f([e.wizard>2?"border-blue-600":"border-white","rounded-full transition duration-500 ease-in-out h-11 w-11 py-2.5 border-2"])},[e.wizard>2?(i(),_(z,{key:0,width:"100%",height:"100%",class:"w-full h-full"})):(i(),_(U,{key:1,width:"100%",height:"100%",class:"w-full h-full"})),o("div",ue,m(l.__("Academic Information")),1)],2)],2),o("div",{class:f([e.wizard>2?"border-blue-600":"border-white","flex-auto border-t-4 transition duration-500 ease-in-out"])},null,2),o("div",{class:f([e.wizard>2?"text-blue-600 ":"text-gray-500","flex items-center relative"])},[o("div",{class:f([e.wizard>2?"border-blue-600":"border-white","rounded-full transition duration-500 ease-in-out h-11 w-11 py-2.5 border-2"])},[t(S,{width:"100%",height:"100%",class:"w-full h-full"}),o("div",ce,m(l.__("Course & Subject")),1)],2)],2)])]),o("div",me,[o("form",{class:"mt-2",onSubmit:r[18]||(r[18]=H(s=>v.submit(),["prevent"])),enctype:"multipart/form-data"},[o("div",he,[e.wizard==1?(i(),n(g,{key:0},[o("div",_e,[o("div",fe,[t(u,{for:"nik",value:"NIK",required:!0}),t(h,{type:"text",modelValue:e.form.nik,"onUpdate:modelValue":r[0]||(r[0]=s=>e.form.nik=s),id:"nisn",name:"nisn",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:l.__("Enter NIK"),error:e.validate_errors.nik},null,8,["modelValue","placeholder","error"]),t(c,{error:e.validate_errors.nik},null,8,["error"])]),o("div",ge,[o("div",pe,[t(u,{for:"name",value:"Name",required:!0}),t(h,{type:"text",modelValue:e.form.name,"onUpdate:modelValue":r[1]||(r[1]=s=>e.form.name=s),id:"name",name:"name",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:l.__("Enter Name"),error:e.validate_errors.name},null,8,["modelValue","placeholder","error"]),t(c,{error:e.validate_errors.name},null,8,["error"])]),o("div",be,[t(u,{for:"email",value:"Email",required:!0}),t(h,{type:"email",modelValue:e.form.email,"onUpdate:modelValue":r[2]||(r[2]=s=>e.form.email=s),id:"email",name:"email",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:l.__("Enter Email"),error:e.validate_errors.email},null,8,["modelValue","placeholder","error"]),t(c,{error:e.validate_errors.email},null,8,["error"])])]),o("div",ve,[o("div",ye,[t(u,{for:"email",value:"Date of Birth",required:!0}),t(j,{format:l.getDateTimeFormat(),class:"ant-datepicker-custom",value:e.date_of_birth_value,"onUpdate:value":r[3]||(r[3]=s=>e.date_of_birth_value=s)},null,8,["format","value"]),t(c,{error:e.validate_errors.date_of_birth},null,8,["error"])]),o("div",ke,[t(u,{for:"phone",value:"Phone",required:!1}),t(h,{type:"number",modelValue:e.form.phone,"onUpdate:modelValue":r[4]||(r[4]=s=>e.form.phone=s),id:"phone",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:l.__("Phone"),error:e.validate_errors.phone},null,8,["modelValue","placeholder","error"]),t(c,{error:e.validate_errors.phone},null,8,["error"])])]),o("div",we,[t(u,{for:"rfid",value:"RFID",required:!0}),t(h,{type:"text",modelValue:e.form.rfid,"onUpdate:modelValue":r[5]||(r[5]=s=>e.form.rfid=s),id:"rfid",name:"rfid",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:l.__("Enter RFID"),error:e.validate_errors.rfid},null,8,["modelValue","placeholder","error"]),t(c,{error:e.validate_errors.rfid},null,8,["error"])])]),o("div",Ve,[o("div",xe,[t(u,{for:"gender",value:"Gender",required:!1}),t(h,{type:"text",modelValue:e.form.gender,"onUpdate:modelValue":r[6]||(r[6]=s=>e.form.gender=s),id:"gender",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:l.__("Gender"),error:e.validate_errors.gender},null,8,["modelValue","placeholder","error"]),t(c,{error:e.validate_errors.gender},null,8,["error"])]),o("div",Ce,[t(u,{for:"address",value:"Present Address",required:!1}),t(O,{modelValue:e.form.address,"onUpdate:modelValue":r[7]||(r[7]=s=>e.form.address=s),id:"address",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:l.__("Present Address"),error:e.validate_errors.address},null,8,["modelValue","placeholder","error"]),t(c,{error:e.validate_errors.address},null,8,["error"])])])],64)):p("",!0),e.wizard==2?(i(),n(g,{key:1},[o("div",ze,[o("div",je,[t(u,{for:"highest_degree_name",value:"Highest Degree Name",required:!0}),t(h,{type:"text",modelValue:e.form.highest_degree_name,"onUpdate:modelValue":r[8]||(r[8]=s=>e.form.highest_degree_name=s),id:"highest_degree_name",class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:l.__("Highest Degree Name"),error:e.validate_errors.highest_degree_name},null,8,["modelValue","placeholder","error"]),t(c,{error:e.validate_errors.highest_degree_name},null,8,["error"])]),o("div",Ie,[t(u,{for:"institute_name",value:"Institute Name",required:!0}),t(h,{type:"text",modelValue:e.form.institute_name,"onUpdate:modelValue":r[9]||(r[9]=s=>e.form.institute_name=s),id:"institute_name",class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:l.__("Institute Name"),error:e.validate_errors.institute_name},null,8,["modelValue","placeholder","error"]),t(c,{error:e.validate_errors.institute_name},null,8,["error"])]),o("div",De,[t(u,{for:"passing_year",value:"Passing Year",required:!0}),t(j,{onChange:l.getPassingYear,placeholder:"Passing Year",class:"ant-datepicker-custom",format:l.getDateTimeFormat(),value:e.passing_year_value,"onUpdate:value":r[10]||(r[10]=s=>e.passing_year_value=s),picker:"year"},null,8,["onChange","format","value"]),t(c,{error:e.validate_errors.passing_year},null,8,["error"])])]),o("div",qe,[o("div",Te,[t(u,{for:"department",value:"Department",required:!1}),t(I,{id:"department",modelValue:e.form.department,"onUpdate:modelValue":r[11]||(r[11]=s=>e.form.department=s),"close-on-select":!0,"can-clear":!1,searchable:!0,"create-option":!1,placeholder:l.__("Select Department"),options:b.departments.map(s=>({value:s.id,label:s.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"]),t(c,{error:e.validate_errors.department},null,8,["error"])]),o("div",Ne,[t(u,{for:"religion",value:"Religion",required:!1}),t(h,{type:"text",modelValue:e.form.religion,"onUpdate:modelValue":r[12]||(r[12]=s=>e.form.religion=s),id:"religion",class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:l.Religion,error:e.validate_errors.religion},null,8,["modelValue","placeholder","error"]),t(c,{error:e.validate_errors.religion},null,8,["error"])]),o("div",Ue,[t(u,{for:"nationality",value:"Nationality",required:!1}),t(I,{id:"nationality","close-on-select":!0,"can-clear":!1,searchable:!0,modelValue:e.form.nationality,"onUpdate:modelValue":r[13]||(r[13]=s=>e.form.nationality=s),"create-option":!1,placeholder:l.__("Select Nationality"),options:b.nationalities.map(s=>({label:s,value:s})),autocomplete:"off"},null,8,["modelValue","placeholder","options"]),t(c,{error:e.validate_errors.nationality},null,8,["error"])]),o("div",Se,[t(u,{for:"document",value:"Document",required:!1}),(i(!0),n(g,null,w(e.document_size,(s,d)=>(i(),n("div",{key:d,class:"flex items-center gap-1 mb-2"},[o("div",Oe,[t(h,{type:"text",modelValue:e.form.document_titles[d],"onUpdate:modelValue":y=>e.form.document_titles[d]=y,id:"title"+d,class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:"Document Title",error:e.validate_errors.note},null,8,["modelValue","onUpdate:modelValue","id","error"])]),o("div",Ye,[o("input",{type:"file",onChange:r[14]||(r[14]=(...y)=>v.picDocs&&v.picDocs(...y)),class:f([e.validate_errors.document?"border-red-500 dark:border-red-500":"","pl-4 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"]),id:"document"+d,name:"document",accept:"image/*, pdf/*, doc/*",placeholder:""},null,42,Be)]),o("div",{onClick:y=>v.addDocument(d)},[t(x,{loading:l.loading,type:"button",cssClass:"font-bold",theme:d==0?"primary":"danger"},{default:k(()=>[d==0?(i(),_(Y,{key:0,class:"w-6 h-6"})):(i(),_(B,{key:1,class:"w-6 h-6"}))]),_:2},1032,["loading","theme"])],8,Pe)]))),128)),b.teacher&&b.teacher.documents.length>0?(i(),n("div",Ae,[(i(!0),n(g,null,w(b.teacher.documents,(s,d)=>(i(),n("div",{class:"relative mt-2",key:s.id},[o("a",{href:s.file_url_format,download:""},m(l.__("Download Document"))+" ("+m(d+1)+") ",9,Me),o("button",{onClick:y=>v.removeDoc(s.id),type:"button",class:"absolute -top-4 bg-red-500 rounded-full -right-3"},[t(P,{class:"w-6 h-6 text-white p-0.5"})],8,Ee)]))),128))])):p("",!0),t(c,{error:e.validate_errors.documents},null,8,["error"])])])],64)):p("",!0)]),e.wizard==3?(i(),n(g,{key:0},[l.$page.props.errors?(i(),n(g,{key:0},[(i(!0),n(g,null,w(l.$page.props.errors,(s,d)=>(i(),n("div",{key:d,class:"md:w-1/2 mx-auto p-4 mb-1 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-gray-800 dark:text-red-400",role:"alert"},[o("div",Fe,m(s),1)]))),128)),r[19]||(r[19]=o("div",{class:"mt-2"},null,-1))],64)):p("",!0),b.courses.length>0?(i(),n("div",Le,[t(u,{for:"course",value:"Select Subject",required:!0}),o("div",Re,[(i(!0),n(g,null,w(b.courses,s=>(i(),n("div",{key:s.id,class:"bg-white dark:bg-gray-800 border dark:border-gray-500 p-4 rounded"},[o("div",Ge,m(s.name),1),o("div",He,[(i(!0),n(g,null,w(s.subjects,(d,y)=>(i(),n("label",{for:"sub"+d.slug,key:y,class:"flex items-center pl-4 mt-1 border border-white rounded dark:border-gray-700"},[K(o("input",{"onUpdate:modelValue":r[15]||(r[15]=E=>e.form.subjects=E),id:"sub"+d.slug,type:"checkbox",value:d.id,name:"sub",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,Je),[[J,e.form.subjects]]),o("label",{for:"sub"+d.slug,class:"w-full py-2 ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},m(d.name),9,Qe)],8,Ke))),128))])]))),128)),t(c,{error:e.validate_errors.subjects},null,8,["error"])])])):(i(),n("div",We,[t(A,{asShow:"div"})]))],64)):p("",!0),o("div",Xe,[e.wizard>1?(i(),n("button",{key:0,onClick:r[16]||(r[16]=s=>v.wizardChange("prev")),class:"text-pink-500 border border-pink-500 hover:bg-pink-500 hover:text-white active:bg-pink-600 font-bold w-1/4 mt-3 py-2 rounded outline-none focus:outline-none ease-linear transition-all duration-150",type:"button"},m(l.__("Back")),1)):p("",!0),e.wizard<3?(i(),_(x,{key:1,onClick:r[17]||(r[17]=s=>v.wizardChange("next")),loading:!1,type:"button",cssClass:"w-1/4 mt-3 py-1 font-bold",theme:"primary"},{default:k(()=>[C(m(l.__("Next")),1)]),_:1})):p("",!0),e.wizard==3?(i(),_(x,{key:2,loading:e.form.processing,type:"submit",cssClass:"w-1/4 mt-3 font-bold",theme:"primary"},{default:k(()=>[C(m(l.__("Save")),1)]),_:1},8,["loading"])):p("",!0)])],32)])])]),_:1},8,["title"])}const fr=R(oe,[["render",Ze]]);export{fr as default};
