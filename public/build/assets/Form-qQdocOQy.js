import{_ as F}from"./AppLayout-D06oZWsy.js";import{s as L}from"./multiselect-BtWcUH1S.js";/* empty css                */import{_ as R,N as G,r as a,c as _,o as l,w as k,a as t,b as i,t as c,i as C,n as f,l as H,e as d,h as p,F as g,j as w,m as K,v as J,k as V,f as Q}from"./app-B4siR4nP.js";import{a as W,r as X}from"./CheckCircleIcon-DRQ2Sg4c.js";import{r as Z}from"./CircleStackIcon-Dg6fV9qg.js";import{r as $}from"./TopBarMenu-nQHiLmrq.js";import{r as ee}from"./TrashIcon-Y0IuqUC6.js";import{r as re}from"./MinusCircleIcon-Cf2xp7Hy.js";import{r as te}from"./PlusCircleIcon-BZ251gFF.js";import"./index-DtyboiO1.js";import"./WarningToast-C-jPV3vQ.js";import"./UserIcon-C-1rgfXS.js";import"./Bars3Icon-C3NvXC29.js";import"./XMarkIcon-BWTnXq2K.js";const ie={components:{AppLayout:F,Multiselect:L,PlusCircleIcon:te,MinusCircleIcon:re,CheckCircleIcon:X,TrashIcon:ee,AcademicCapIcon:$,CircleStackIcon:Z,BookOpenIcon:W,NothingFound:G},props:{courses:Object,nationalities:Array,administration:Object,subjects:Array,departments:Object},data(){return{wizard:1,date_of_birth_value:this.administration&&this.administration.date_of_birth?V(this.administration.date_of_birth):null,passing_year_value:this.administration&&this.administration.profile?V(this.administration.profile.passing_year):null,validate_errors:{},document_size:[1],form:Q.useForm({nik:this.administration?this.administration.nik:"",rfid:this.administration?this.administration.rfid:"",name:this.administration?this.administration.name:"",email:this.administration?this.administration.email:"",user_type:"Administration",phone:this.administration?this.administration.phone:"",address:this.administration?this.administration.address:"",gender:this.administration?this.administration.gender:"",department:this.administration?this.administration.department_id:"",date_of_birth:this.administration?this.administration.date_of_birth:"",documents:[],document_titles:[],highest_degree_name:this.administration&&this.administration.profile?this.administration.profile.highest_degree_name:null,institute_name:this.administration&&this.administration.profile?this.administration.profile.institute_name:null,passing_year:this.administration&&this.administration.profile?this.administration.profile.passing_year:null,religion:this.administration&&this.administration.profile?this.administration.profile.religion:null,nationality:this.administration&&this.administration.profile?this.administration.profile.nationality:null,subjects:this.subjects?this.subjects:[],_method:this.administration?"PUT":"POST"})}},watch:{date_of_birth_value:{deep:!0,handler(o,r){o?this.form.date_of_birth=V(o).format("YYYY-MM-DD"):this.form.date_of_birth=null}},passing_year_value:{deep:!0,handler(o,r){o?this.form.passing_year=V(o).format("YYYY"):this.form.passing_year=null}},wizard:{deep:!0,handler(o,r){this.validate_errors={}}}},methods:{removeDoc(o){confirm("Are your sure ??")&&this.$inertia.post(this.route("admin.doc.destroy",o),{preserveScroll:!0})},picDocs(o){this.form.documents.push(o.target.files[0])},submit(){this.date_of_birth_value?this.form.date_of_birth=V(this.date_of_birth_value).format("DD-MM-YYYY"):this.form.date_of_birth=null,this.administration?this.form.post(this.route("users.update",this.administration.id),{preserveScroll:!0}):this.form.post(this.route("users.store"),{preserveScroll:!0,onSuccess:()=>{}})},wizardChange(o){o=="next"?this.validationPart(this.wizard)||(this.validate_errors={},this.wizard=this.wizard+1):this.wizard=this.wizard-1},isValidEmail(o){return/^[^@]+@\w+(\.\w+)+\w$/.test(o)},addDocument(o){o==0?this.document_size.push(1):(this.document_size.splice(o,1),this.form.document_titles.splice(o,1),this.form.documents.splice(o,1))},validationPart(o){let r=!1;return o==1?(this.form.name||(Object.assign(this.validate_errors,{name:"The name field is required"}),r=!0),this.form.email||(Object.assign(this.validate_errors,{email:"The email field is required"}),r=!0),this.isValidEmail(this.form.email)||(Object.assign(this.validate_errors,{email:"The email is invalid ."}),r=!0),this.form.date_of_birth||(Object.assign(this.validate_errors,{date_of_birth:"The date of birth field is required ."}),r=!0)):o==2?(this.form.highest_degree_name||(Object.assign(this.validate_errors,{highest_degree_name:"The highest degree name field is required ."}),r=!0),this.form.institute_name||(Object.assign(this.validate_errors,{institute_name:"The institute name field is required ."}),r=!0),this.form.passing_year||(Object.assign(this.validate_errors,{passing_year:"The passing year field is required ."}),r=!0)):(this.selected_courses||(Object.assign(this.validate_errors,{course:"The course field is required ."}),r=!0),this.form.subjects||(Object.assign(this.validate_errors,{subjects:"The subjects field is required ."}),r=!0)),r}}},oe={class:"mx-auto pb-12"},se={class:"rounded-lg flex justify-between items-center mb-4 py-4 px-6 text-lg font-semibold rtl:text-right text-left text-gray-900 bg-white dark:text-white dark:bg-gray-800"},le={class:"dark:text-gray-400"},ae={class:"w-full lg:w-1/2 mx-auto"},ne={class:"flex items-center"},de={class:"absolute whitespace-nowrap -top-3 -ml-0.5 w-full text-center mt-16 text-xs font-bold"},ue={class:"absolute whitespace-nowrap -top-3 -ml-8 w-full text-center mt-16 text-xs font-bold"},me={class:"absolute whitespace-nowrap -ml-10 -top-3 w-full text-center mt-16 text-xs font-bold"},ce={class:"w-full lg:w-1/2 mx-auto rounded-lg mt-12"},he={class:"grid sm:grid-cols-1 md:grid-cols-1 sm:gap-1 md:gap-4"},_e={class:"w-full bg-white rounded-lg border border-white p-4 dark:bg-gray-800 dark:border-gray-700"},fe={class:"mb-3"},ge={class:"grid grid-cols-1 md:grid-cols-2 gap-1"},pe={class:"mb-3"},be={class:"mb-3"},ve={class:"grid grid-cols-1 md:grid-cols-2 gap-1"},ye={class:"mb-3"},ke={class:"mb-1"},we={class:"mb-3"},Ve={class:"w-full bg-white rounded-lg border border-white p-4 dark:bg-gray-800 dark:border-gray-700"},xe={class:"mb-3"},Ce={class:"mb-1"},ze={class:"w-full bg-white rounded-lg border border-white p-4 dark:bg-gray-800 dark:border-gray-700"},je={class:"mb-3"},Ie={class:"mb-3"},De={class:"mb-3"},qe={class:"w-full bg-white rounded-lg border border-white p-4 dark:bg-gray-800 dark:border-gray-700"},Ne={class:"mb-3"},Ue={class:"mb-3"},Se={class:"mb-3"},Ae={class:"mb-3"},Oe={class:"w-full"},Te={class:"w-full"},Ye=["id"],Be=["onClick"],Pe={key:0,class:"flex flex-wrap gap-3 p-1"},Me=["href"],Ee=["onClick"],Fe={class:"ml-4"},Le={key:1,class:"w-full bg-white rounded-lg border border-white p-6 dark:bg-gray-800 dark:border-gray-700"},Re={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Ge={class:"font-bold capitalize text-base dark:text-gray-400"},He={class:"grid grid-cols-2 gap-1"},Ke=["for"],Je=["id","value"],Qe=["for"],We={key:2,class:"p-4 text-center"},Xe={class:"flex justify-end gap-2"};function Ze(o,r,b,$e,e,v){const D=a("BreadcrumbLink"),q=a("Breadcrumb"),x=a("global-button"),N=a("Link"),z=a("CheckCircleIcon"),U=a("CircleStackIcon"),S=a("AcademicCapIcon"),A=a("BookOpenIcon"),u=a("global-label"),h=a("global-input"),m=a("input-error"),j=a("a-date-picker"),O=a("global-textarea"),I=a("Multiselect"),T=a("PlusCircleIcon"),Y=a("MinusCircleIcon"),B=a("trash-icon"),P=a("NothingFound"),M=a("AppLayout");return l(),_(M,{title:o.__("Administration Create")},{default:k(()=>[t(q,null,{default:k(()=>[t(D,{title:o.__("Administration Create")},null,8,["title"])]),_:1}),i("div",oe,[i("div",se,[i("div",le,c(o.__("administration Create")),1),t(N,{"preserve-scroll":"",href:o.route("administrations.index")},{default:k(()=>[t(x,{loading:!1,type:"button",theme:"primary"},{default:k(()=>[C(c(o.__("All administrations")),1)]),_:1})]),_:1},8,["href"])]),i("div",ae,[i("div",ne,[i("div",{class:f([e.wizard>1?"text-blue-600 ":"text-gray-500","flex items-center relative"])},[i("div",{class:f([e.wizard>1?"border-blue-600":"border-white","rounded-full transition duration-500 ease-in-out h-11 w-11 py-2.5 border-2"])},[e.wizard>1?(l(),_(z,{key:0,width:"100%",height:"100%",class:"w-full h-full"})):(l(),_(U,{key:1,width:"100%",height:"100%",class:"w-full h-full"})),i("div",de,c(o.__("Basic Information")),1)],2)],2),i("div",{class:f([e.wizard>1?"border-blue-600":"border-white","flex-auto border-t-4 transition duration-500 ease-in-out"])},null,2),i("div",{class:f([e.wizard>2?"text-blue-600 ":"text-gray-500","flex items-center relative"])},[i("div",{class:f([e.wizard>2?"border-blue-600":"border-white","rounded-full transition duration-500 ease-in-out h-11 w-11 py-2.5 border-2"])},[e.wizard>2?(l(),_(z,{key:0,width:"100%",height:"100%",class:"w-full h-full"})):(l(),_(S,{key:1,width:"100%",height:"100%",class:"w-full h-full"})),i("div",ue,c(o.__("Academic Information")),1)],2)],2),i("div",{class:f([e.wizard>2?"border-blue-600":"border-white","flex-auto border-t-4 transition duration-500 ease-in-out"])},null,2),i("div",{class:f([e.wizard>2?"text-blue-600 ":"text-gray-500","flex items-center relative"])},[i("div",{class:f([e.wizard>2?"border-blue-600":"border-white","rounded-full transition duration-500 ease-in-out h-11 w-11 py-2.5 border-2"])},[t(A,{width:"100%",height:"100%",class:"w-full h-full"}),i("div",me,c(o.__("Course & Subject")),1)],2)],2)])]),i("div",ce,[i("form",{class:"mt-2",onSubmit:r[18]||(r[18]=H(s=>v.submit(),["prevent"])),enctype:"multipart/form-data"},[i("div",he,[e.wizard==1?(l(),d(g,{key:0},[i("div",_e,[i("div",fe,[t(u,{for:"nik",value:"NIK",required:!0}),t(h,{type:"text",modelValue:e.form.nik,"onUpdate:modelValue":r[0]||(r[0]=s=>e.form.nik=s),id:"nisn",name:"nisn",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:o.__("Enter NIK"),error:e.validate_errors.nik},null,8,["modelValue","placeholder","error"]),t(m,{error:e.validate_errors.nik},null,8,["error"])]),i("div",ge,[i("div",pe,[t(u,{for:"name",value:"Name",required:!0}),t(h,{type:"text",modelValue:e.form.name,"onUpdate:modelValue":r[1]||(r[1]=s=>e.form.name=s),id:"name",name:"name",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:o.__("Enter Name"),error:e.validate_errors.name},null,8,["modelValue","placeholder","error"]),t(m,{error:e.validate_errors.name},null,8,["error"])]),i("div",be,[t(u,{for:"email",value:"Email",required:!0}),t(h,{type:"email",modelValue:e.form.email,"onUpdate:modelValue":r[2]||(r[2]=s=>e.form.email=s),id:"email",name:"email",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:o.__("Enter Email"),error:e.validate_errors.email},null,8,["modelValue","placeholder","error"]),t(m,{error:e.validate_errors.email},null,8,["error"])])]),i("div",ve,[i("div",ye,[t(u,{for:"email",value:"Date of Birth",required:!0}),t(j,{format:o.getDateTimeFormat(),class:"ant-datepicker-custom",value:e.date_of_birth_value,"onUpdate:value":r[3]||(r[3]=s=>e.date_of_birth_value=s)},null,8,["format","value"]),t(m,{error:e.validate_errors.date_of_birth},null,8,["error"])]),i("div",ke,[t(u,{for:"phone",value:"Phone",required:!1}),t(h,{type:"number",modelValue:e.form.phone,"onUpdate:modelValue":r[4]||(r[4]=s=>e.form.phone=s),id:"phone",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:o.__("Phone"),error:e.validate_errors.phone},null,8,["modelValue","placeholder","error"]),t(m,{error:e.validate_errors.phone},null,8,["error"])])]),i("div",we,[t(u,{for:"rfid",value:"RFID",required:!0}),t(h,{type:"text",modelValue:e.form.rfid,"onUpdate:modelValue":r[5]||(r[5]=s=>e.form.rfid=s),id:"rfid",name:"rfid",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:o.__("Enter RFID"),error:e.validate_errors.rfid},null,8,["modelValue","placeholder","error"]),t(m,{error:e.validate_errors.rfid},null,8,["error"])])]),i("div",Ve,[i("div",xe,[t(u,{for:"gender",value:"Gender",required:!1}),t(h,{type:"text",modelValue:e.form.gender,"onUpdate:modelValue":r[6]||(r[6]=s=>e.form.gender=s),id:"gender",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:o.__("Gender"),error:e.validate_errors.gender},null,8,["modelValue","placeholder","error"]),t(m,{error:e.validate_errors.gender},null,8,["error"])]),i("div",Ce,[t(u,{for:"address",value:"Present Address",required:!1}),t(O,{modelValue:e.form.address,"onUpdate:modelValue":r[7]||(r[7]=s=>e.form.address=s),id:"address",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:o.__("Present Address"),error:e.validate_errors.address},null,8,["modelValue","placeholder","error"]),t(m,{error:e.validate_errors.address},null,8,["error"])])])],64)):p("",!0),e.wizard==2?(l(),d(g,{key:1},[i("div",ze,[i("div",je,[t(u,{for:"highest_degree_name",value:"Highest Degree Name",required:!0}),t(h,{type:"text",modelValue:e.form.highest_degree_name,"onUpdate:modelValue":r[8]||(r[8]=s=>e.form.highest_degree_name=s),id:"highest_degree_name",class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:o.__("Highest Degree Name"),error:e.validate_errors.highest_degree_name},null,8,["modelValue","placeholder","error"]),t(m,{error:e.validate_errors.highest_degree_name},null,8,["error"])]),i("div",Ie,[t(u,{for:"institute_name",value:"Institute Name",required:!0}),t(h,{type:"text",modelValue:e.form.institute_name,"onUpdate:modelValue":r[9]||(r[9]=s=>e.form.institute_name=s),id:"institute_name",class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:o.__("Institute Name"),error:e.validate_errors.institute_name},null,8,["modelValue","placeholder","error"]),t(m,{error:e.validate_errors.institute_name},null,8,["error"])]),i("div",De,[t(u,{for:"passing_year",value:"Passing Year",required:!0}),t(j,{onChange:o.getPassingYear,placeholder:"Passing Year",class:"ant-datepicker-custom",format:o.getDateTimeFormat(),value:e.passing_year_value,"onUpdate:value":r[10]||(r[10]=s=>e.passing_year_value=s),picker:"year"},null,8,["onChange","format","value"]),t(m,{error:e.validate_errors.passing_year},null,8,["error"])])]),i("div",qe,[i("div",Ne,[t(u,{for:"department",value:"Department",required:!1}),t(I,{id:"department",modelValue:e.form.department,"onUpdate:modelValue":r[11]||(r[11]=s=>e.form.department=s),"close-on-select":!0,"can-clear":!1,searchable:!0,"create-option":!1,placeholder:o.__("Select Department"),options:b.departments.map(s=>({value:s.id,label:s.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"]),t(m,{error:e.validate_errors.department},null,8,["error"])]),i("div",Ue,[t(u,{for:"religion",value:"Religion",required:!1}),t(h,{type:"text",modelValue:e.form.religion,"onUpdate:modelValue":r[12]||(r[12]=s=>e.form.religion=s),id:"religion",class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:o.Religion,error:e.validate_errors.religion},null,8,["modelValue","placeholder","error"]),t(m,{error:e.validate_errors.religion},null,8,["error"])]),i("div",Se,[t(u,{for:"nationality",value:"Nationality",required:!1}),t(I,{id:"nationality","close-on-select":!0,"can-clear":!1,searchable:!0,modelValue:e.form.nationality,"onUpdate:modelValue":r[13]||(r[13]=s=>e.form.nationality=s),"create-option":!1,placeholder:o.__("Select Nationality"),options:b.nationalities.map(s=>({label:s,value:s})),autocomplete:"off"},null,8,["modelValue","placeholder","options"]),t(m,{error:e.validate_errors.nationality},null,8,["error"])]),i("div",Ae,[t(u,{for:"document",value:"Document",required:!1}),(l(!0),d(g,null,w(e.document_size,(s,n)=>(l(),d("div",{key:n,class:"flex items-center gap-1 mb-2"},[i("div",Oe,[t(h,{type:"text",modelValue:e.form.document_titles[n],"onUpdate:modelValue":y=>e.form.document_titles[n]=y,id:"title"+n,class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:"Document Title",error:e.validate_errors.note},null,8,["modelValue","onUpdate:modelValue","id","error"])]),i("div",Te,[i("input",{type:"file",onChange:r[14]||(r[14]=(...y)=>v.picDocs&&v.picDocs(...y)),class:f([e.validate_errors.document?"border-red-500 dark:border-red-500":"","pl-4 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"]),id:"document"+n,name:"document",accept:"image/*, pdf/*, doc/*",placeholder:""},null,42,Ye)]),i("div",{onClick:y=>v.addDocument(n)},[t(x,{loading:o.loading,type:"button",cssClass:"font-bold",theme:n==0?"primary":"danger"},{default:k(()=>[n==0?(l(),_(T,{key:0,class:"w-6 h-6"})):(l(),_(Y,{key:1,class:"w-6 h-6"}))]),_:2},1032,["loading","theme"])],8,Be)]))),128)),b.administration&&b.administration.documents.length>0?(l(),d("div",Pe,[(l(!0),d(g,null,w(b.administration.documents,(s,n)=>(l(),d("div",{class:"relative mt-2",key:s.id},[i("a",{href:s.file_url_format,download:""},c(o.__("Download Document"))+" ("+c(n+1)+") ",9,Me),i("button",{onClick:y=>v.removeDoc(s.id),type:"button",class:"absolute -top-4 bg-red-500 rounded-full -right-3"},[t(B,{class:"w-6 h-6 text-white p-0.5"})],8,Ee)]))),128))])):p("",!0),t(m,{error:e.validate_errors.documents},null,8,["error"])])])],64)):p("",!0)]),e.wizard==3?(l(),d(g,{key:0},[o.$page.props.errors?(l(),d(g,{key:0},[(l(!0),d(g,null,w(o.$page.props.errors,(s,n)=>(l(),d("div",{key:n,class:"md:w-1/2 mx-auto p-4 mb-1 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-gray-800 dark:text-red-400",role:"alert"},[i("div",Fe,c(s),1)]))),128)),r[19]||(r[19]=i("div",{class:"mt-2"},null,-1))],64)):p("",!0),b.courses.length>0?(l(),d("div",Le,[t(u,{for:"course",value:"Select Subject",required:!0}),i("div",Re,[(l(!0),d(g,null,w(b.courses,s=>(l(),d("div",{key:s.id,class:"bg-white dark:bg-gray-800 border dark:border-gray-500 p-4 rounded"},[i("div",Ge,c(s.name),1),i("div",He,[(l(!0),d(g,null,w(s.subjects,(n,y)=>(l(),d("label",{for:"sub"+n.slug,key:y,class:"flex items-center pl-4 mt-1 border border-white rounded dark:border-gray-700"},[K(i("input",{"onUpdate:modelValue":r[15]||(r[15]=E=>e.form.subjects=E),id:"sub"+n.slug,type:"checkbox",value:n.id,name:"sub",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,Je),[[J,e.form.subjects]]),i("label",{for:"sub"+n.slug,class:"w-full py-2 ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},c(n.name),9,Qe)],8,Ke))),128))])]))),128)),t(m,{error:e.validate_errors.subjects},null,8,["error"])])])):(l(),d("div",We,[t(P,{asShow:"div"})]))],64)):p("",!0),i("div",Xe,[e.wizard>1?(l(),d("button",{key:0,onClick:r[16]||(r[16]=s=>v.wizardChange("prev")),class:"text-pink-500 border border-pink-500 hover:bg-pink-500 hover:text-white active:bg-pink-600 font-bold w-1/4 mt-3 py-2 rounded outline-none focus:outline-none ease-linear transition-all duration-150",type:"button"},c(o.__("Back")),1)):p("",!0),e.wizard<3?(l(),_(x,{key:1,onClick:r[17]||(r[17]=s=>v.wizardChange("next")),loading:!1,type:"button",cssClass:"w-1/4 mt-3 py-1 font-bold",theme:"primary"},{default:k(()=>[C(c(o.__("Next")),1)]),_:1})):p("",!0),e.wizard==3?(l(),_(x,{key:2,loading:e.form.processing,type:"submit",cssClass:"w-1/4 mt-3 font-bold",theme:"primary"},{default:k(()=>[C(c(o.__("Save")),1)]),_:1},8,["loading"])):p("",!0)])],32)])])]),_:1},8,["title"])}const fr=R(ie,[["render",Ze]]);export{fr as default};
