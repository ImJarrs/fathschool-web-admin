import{_ as B}from"./AppLayout-D06oZWsy.js";import{F as D,m as F,a as E}from"./main-hbmm7GV_.js";import{m as H}from"./main-DLgbzNsy.js";import{m as S}from"./main-BIoG3jBW.js";import V from"./Create-DGM9BotI.js";import N from"./Update-DNLM5OKh.js";import z from"./Table-B9IrL16g.js";import{_ as A,r as a,e as c,o as i,a as r,w as d,b as s,i as _,t as l,h as n,c as h,F as T}from"./app-B4siR4nP.js";import"./index-DtyboiO1.js";import"./TopBarMenu-nQHiLmrq.js";import"./CheckCircleIcon-DRQ2Sg4c.js";import"./XMarkIcon-BWTnXq2K.js";import"./WarningToast-C-jPV3vQ.js";import"./UserIcon-C-1rgfXS.js";import"./PlusCircleIcon-BZ251gFF.js";import"./Bars3Icon-C3NvXC29.js";import"./Paginate-CEUSBnpv.js";import"./ToolTip-DNh-kznG.js";import"./TrashIcon-Y0IuqUC6.js";import"./PencilSquareIcon-D3Yw7vGl.js";const j={props:{holidays:Array},data(){return{index:!0,create:!1,update:!1,form:{id:"",title:"",start:"",end:""},calendarOptions:{locale:this.$page.props.locale,plugins:[F,E,H,S],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek"},buttonText:{prev:this.__("prev"),next:this.__("next"),today:this.__("today"),month:this.__("month"),week:this.__("week"),day:this.__("day"),list:this.__("list")},editable:!0,selectable:!0,weekends:!0,select:t=>{this.setDate(t.startStr,t.endStr)},eventClick:t=>{this.edit(t.event._def.publicId)},initialView:"dayGridMonth",events:this.holidays,eventDrop:this.eventDropped,eventResize:this.eventResized}}},components:{AppLayout:B,FullCalendar:D,CreateForm:V,UpdateForm:N,TableData:z},watch:{holidays:{handler(t,e){this.calendarOptions.events=t},deep:!0,immediate:!0}},methods:{setDate(t,e){var m=typeof t;m=="string"&&(this.form.start=t,this.form.end=e),this.form.title="",this.index=!1,this.update=!1,this.create=!0},edit(t){this.holidays.forEach((e,m)=>{e.id==t&&(this.form.id=t,this.form.title=e.title,this.form.start=e.start,this.form.end=e.end,this.index=!1,this.update=!0,this.create=!1)})},dataUpdate(){this.update=!1,this.create=!1,this.index=!0},eventDropped(t){let e=t.event;this.form.id=e.id,this.form.title=e.title,this.form.start=e.startStr,this.form.end=e.endStr,this.updateEvent()},eventResized(t){let e=t.event;this.form.id=e.id,this.form.title=e.title,this.form.start=e.startStr,this.form.end=e.endStr,this.updateEvent()},async updateEvent(){await axios.put(route("holiday.resized",this.form.id),this.form),window.location.reload()}}},G={class:"mx-auto pb-12"},O={class:"grid grid-cols-1 items-start md:grid-cols-3 gap-6"},R={class:"col-span-2 bg-white rounded-lg overflow-x-auto dark:bg-gray-800"},I={class:"bg-white dark:bg-gray-800 rounded-lg"},M={key:0,class:"flex justify-between px-6 items-center pt-6 text-gray-900 dark:text-gray-400 text-base font-bold"},W={key:1,class:"p-3 flex justify-between items-center mt-2 text-gray-900 dark:text-gray-400 text-base font-bold mb-0"},q={key:2,class:"px-6 pt-6 flex justify-between mt-2 text-gray-900 dark:text-gray-400 text-base font-bold mb-0"};function J(t,e,m,K,o,p){const u=a("Head"),f=a("BreadcrumbLink"),y=a("Breadcrumb"),b=a("page-header"),g=a("FullCalendar"),v=a("global-button"),k=a("back-button"),x=a("Link"),w=a("table-data"),C=a("create-form"),L=a("update-form"),U=a("AppLayout");return i(),c(T,null,[r(u,{title:t.__("Holiday List")},null,8,["title"]),r(U,null,{default:d(()=>[r(y,null,{default:d(()=>[r(f,{title:t.__("Holiday")},null,8,["title"])]),_:1}),s("div",G,[r(b,null,{default:d(()=>[_(l(t.__("Holiday List")),1)]),_:1}),s("div",O,[s("div",R,[r(g,{ref:"calendar",class:"p-6 min-w-[991px]",options:o.calendarOptions},null,8,["options"])]),s("div",I,[o.index?(i(),c("div",M,[s("div",null,l(t.__("Holiday List")),1),t.can("holiday.create")?(i(),h(v,{key:0,loading:!1,onClick:p.setDate,type:"button",theme:"primary"},{default:d(()=>[_(l(t.__("Create")),1)]),_:1},8,["onClick"])):n("",!0)])):n("",!0),o.create?(i(),c("h2",W,[s("div",null,l(t.__("Create New Holiday")),1),r(x,{"preserve-scroll":"",href:t.route("holiday.index"),class:"hover:text-gray-500"},{default:d(()=>[r(k)]),_:1},8,["href"])])):n("",!0),o.update?(i(),c("h2",q,[s("div",null,l(t.__("Update")),1)])):n("",!0),o.index?(i(),h(w,{key:3,onEdit:p.edit,holidays:m.holidays},null,8,["onEdit","holidays"])):n("",!0),o.create?(i(),h(C,{key:4,onUpdate:p.dataUpdate,data:o.form},null,8,["onUpdate","data"])):n("",!0),o.update?(i(),h(L,{key:5,onUpdate:p.dataUpdate,data:o.form},null,8,["onUpdate","data"])):n("",!0)])])])]),_:1})],64)}const _t=A(j,[["render",J]]);export{_t as default};
