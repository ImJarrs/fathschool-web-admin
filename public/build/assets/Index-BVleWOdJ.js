import{_ as B}from"./AppLayout-D06oZWsy.js";import{P as N}from"./Pagination-DHbdUHOs.js";import{T as V}from"./ToolTip-DNh-kznG.js";import{_ as v,N as j,r as n,e as f,o as d,a as t,w as _,c as y,F as O,j as P,b as o,t as c,n as C,i as w,l as S,h as $}from"./app-B4siR4nP.js";import{r as x}from"./PencilSquareIcon-D3Yw7vGl.js";import{r as D}from"./TrashIcon-Y0IuqUC6.js";import"./index-DtyboiO1.js";import"./TopBarMenu-nQHiLmrq.js";import"./CheckCircleIcon-DRQ2Sg4c.js";import"./XMarkIcon-BWTnXq2K.js";import"./WarningToast-C-jPV3vQ.js";import"./UserIcon-C-1rgfXS.js";import"./PlusCircleIcon-BZ251gFF.js";import"./Bars3Icon-C3NvXC29.js";const L={props:{departments:Object},components:{ToolTip:V,TrashIcon:D,PencilSquareIcon:x,NothingFound:j},methods:{destroy(e){if(confirm("Are you sure ?"))this.$inertia.delete(this.route("departments.destroy",e));else return!1},edit(e){this.$emit("edit",e)}}},U={class:"col-span-2 bg-white dark:bg-gray-800 dark:text-gray-600 rounded-lg"},q={class:"py-5 px-5"},T={width:"10%",class:"py-5 px-3"},A={class:"py-5 px-5"},E={class:"py-5 px-3 flex gap-3"},I=["onClick","id"],z=["onClick","id"];function M(e,r,l,k,s,i){const p=n("PencilSquareIcon"),g=n("tool-tip"),u=n("trash-icon"),h=n("NothingFound"),b=n("global-table");return d(),f("div",U,[t(b,null,{head:_(()=>[o("th",q,c(e.__("Name")),1),o("th",T,c(e.__("Action")),1)]),body:_(()=>[l.departments.data.length>0?(d(!0),f(O,{key:0},P(l.departments.data,a=>(d(),f("tr",{key:a.id,class:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[o("td",A,c(a.name),1),o("td",E,[o("button",{type:"button",onClick:m=>i.edit(a),class:"group relative",id:"testEditDepartment"+a.id},[t(p,{class:"w-6 h-6 text-blue-400 hover:text-blue-300"}),t(g,{text:"Edit"})],8,I),o("button",{type:"button",onClick:m=>i.destroy(a.id),class:"group relative",id:"testDeleteDepartment"+a.id},[t(u,{class:"w-6 h-6 text-red-400 hover:text-red-300"}),t(g,{text:e.__("Delete")},null,8,["text"])],8,z)])]))),128)):(d(),y(h,{key:1,asShow:"tr"}))]),_:1})])}const G=v(L,[["render",M]]),H={props:{study_programs:{type:Object,default:()=>({})}},data(){return{loading:!1,options:[],form:{name:"",study_program_id:null}}},created(){var e;for(const[r,l]of Object.entries(this.study_programs))this.options.push({value:l.id,label:l.name});this.form.study_program_id=(e=this.options[0])==null?void 0:e.value},methods:{submit(){this.loading=!0,this.$inertia.post(this.route("departments.store"),this.form,{onSuccess:()=>{this.form.name="",this.form.study_program_id=null},onFinish:e=>{this.loading=!1}})}}},J={class:"w-full p-4 dark:bg-gray-800 dark:border-gray-700"},K={class:"mt-3"};function Q(e,r,l,k,s,i){const p=n("global-label"),g=n("global-input"),u=n("input-error"),h=n("a-select"),b=n("global-button");return d(),f("form",{onSubmit:r[2]||(r[2]=S((...a)=>i.submit&&i.submit(...a),["prevent"]))},[o("div",J,[o("div",null,[t(p,{for:"name",value:"Name",required:!1}),t(g,{type:"text",id:"name",modelValue:s.form.name,"onUpdate:modelValue":r[0]||(r[0]=a=>s.form.name=a),name:"name",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Name"),error:e.$page.props.errors.name},null,8,["modelValue","placeholder","error"]),t(u,{error:e.$page.props.errors.name},null,8,["error"])]),o("div",K,[t(p,{for:"study_program_id",value:"Study Program",required:!1}),t(h,{class:C([e.$page.props.errors.study_program_id?"border-custom ":"","width-100"]),size:"large",modelValue:s.form.study_program_id,"onUpdate:modelValue":r[1]||(r[1]=a=>s.form.study_program_id=a),"show-search":"",placeholder:e.__("Select Study Program"),options:s.options,"filter-option":e.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["class","modelValue","placeholder","options","filter-option","onFocus","onBlur","onChange"]),t(u,{error:e.$page.props.errors.study_program_id},null,8,["error"])])]),t(b,{loading:s.loading,type:"submit",class:"text-white bg-blue-500 dark:bg-blue-500 hover:bg-blue-500 active:bg-blue-600 dark:active:bg-blue-600 focus:border-blue-600 dark:focus:border-blue-600 focus:ring focus:ring-blue-300 rtl:ml-0 rtl:mr-5 ml-5 mb-6 dark:focus:ring-blue-300"},{default:_(()=>[w(c(e.__("Save")),1)]),_:1},8,["loading"]),r[3]||(r[3]=o("br",null,null,-1))],32)}const R=v(H,[["render",Q]]),W={props:{department:Object,study_programs:Object},data(){return{loading:!1,options:[],form:{name:this.department.name,study_program_id:this.department.study_program_id,_method:"PUT"}}},created(){for(const[e,r]of Object.entries(this.study_programs))this.options.push({value:r.id,label:r.name})},watch:{department:{deep:!0,handler(e,r){this.form.name=e.name}}},methods:{submit(){this.loading=!0,this.$inertia.post(this.route("departments.update",this.department.id),this.form,{onSuccess:()=>{this.$inertia.get(this.route("departments.index"))},onFinish:e=>{this.loading=!1}})}}},X={class:"w-full p-4 dark:bg-gray-800 dark:border-gray-700"},Y={class:"mt-3"},Z={class:"flex gap-2 ml-5"};function ee(e,r,l,k,s,i){const p=n("global-label"),g=n("global-input"),u=n("input-error"),h=n("a-select"),b=n("global-button"),a=n("Link");return d(),f("form",{onSubmit:r[2]||(r[2]=S((...m)=>i.submit&&i.submit(...m),["prevent"]))},[o("div",X,[o("div",null,[t(p,{for:"name",value:"Name",required:!1}),t(g,{type:"text",id:"name",modelValue:s.form.name,"onUpdate:modelValue":r[0]||(r[0]=m=>s.form.name=m),name:"name",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Name"),error:e.$page.props.errors.name},null,8,["modelValue","placeholder","error"]),t(u,{error:e.$page.props.errors.name},null,8,["error"])]),o("div",Y,[t(p,{for:"study_program_id",value:"Select Study Program ",required:!1}),t(h,{class:C([e.$page.props.errors.study_program_id?"border-custom ":"","width-100"]),size:"large",value:s.form.study_program_id,"onUpdate:value":r[1]||(r[1]=m=>s.form.study_program_id=m),"show-search":"",placeholder:e.__("Select Study Program"),options:s.options,"filter-option":e.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["class","value","placeholder","options","filter-option","onFocus","onBlur","onChange"]),t(u,{error:e.$page.props.errors.class},null,8,["error"])])]),o("div",Z,[t(b,{loading:s.loading,type:"submit",theme:"primary",class:"mr-2"},{default:_(()=>[w(c(e.__("Update")),1)]),_:1},8,["loading"]),t(a,{"preserve-scroll":"",href:e.route("departments.index")},{default:_(()=>[t(b,{loading:!1,type:"button",theme:"outline-danger"},{default:_(()=>[w(c(e.__("Cancel")),1)]),_:1})]),_:1},8,["href"])]),r[3]||(r[3]=o("br",null,null,-1))],32)}const te=v(W,[["render",ee]]),oe={components:{AppLayout:B,Pagination:N,TableContent:G,CreateForm:R,UpdateForm:te},props:{departments:Object,study_programs:Object},data(){return{update:!1,department:""}},methods:{edit(e){this.update=!0,this.department=e}}},re={class:"pb-12"},ne={class:"dark:text-gray-400 font-semibold"},se={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mx-auto"},ae={class:"flex justify-center"},le={class:"w-full bg-white rounded-lg dark:bg-gray-800 text-sm rtl:text-right text-left text-gray-500 dark:text-gray-400"},de={class:"p-4 text-gray-700 font-bold border-b-2 dark:border-gray-600 rounded-t-lg dark:bg-gray-800 dark:text-gray-400"},ie={key:0},pe={class:"flex justify-between"},ue={key:1};function me(e,r,l,k,s,i){const p=n("BreadcrumbLink"),g=n("Breadcrumb"),u=n("page-header"),h=n("table-content"),b=n("pagination"),a=n("create-form"),m=n("update-form"),F=n("AppLayout");return d(),y(F,{title:e.__("Departments")},{default:_(()=>[t(g,null,{default:_(()=>[t(p,{title:e.__("Departments")},null,8,["title"])]),_:1}),o("div",re,[t(u,null,{default:_(()=>[o("div",ne,c(e.__("Departments")),1)]),_:1}),o("div",se,[o("div",null,[t(h,{onEdit:i.edit,departments:l.departments},null,8,["onEdit","departments"]),o("div",ae,[t(b,{class:"mt-6",links:l.departments.links},null,8,["links"])])]),o("div",null,[o("div",le,[o("div",de,[s.update?(d(),f("div",ie,[o("div",pe,[o("div",null,c(e.__("Update")),1)])])):(d(),f("div",ue,c(e.__("Create New")),1))]),s.update?$("",!0):(d(),y(a,{key:0,study_programs:l.study_programs},null,8,["study_programs"])),s.update?(d(),y(m,{key:1,department:s.department,study_programs:l.study_programs},null,8,["department","study_programs"])):$("",!0)])])])])]),_:1},8,["title"])}const Be=v(oe,[["render",me]]);export{Be as default};
