import{_ as E}from"./AppLayout-D06oZWsy.js";import{_ as H,af as R,ag as G,r as s,e as d,o as u,a as t,w as m,b as o,i as _,t as c,F as f,j as h,m as D,n as v,a5 as S,k,f as J}from"./app-B4siR4nP.js";import{P as K}from"./Pagination-DHbdUHOs.js";import Q from"./SingleAssignment-CckeRCk7.js";import W from"./Filter-D3JxKqhI.js";import{r as X}from"./TrashIcon-Y0IuqUC6.js";import{r as Z}from"./EyeIcon-BOU59fVo.js";import{r as $}from"./PencilSquareIcon-D3Yw7vGl.js";import"./index-DtyboiO1.js";import"./TopBarMenu-nQHiLmrq.js";import"./CheckCircleIcon-DRQ2Sg4c.js";import"./XMarkIcon-BWTnXq2K.js";import"./WarningToast-C-jPV3vQ.js";import"./UserIcon-C-1rgfXS.js";import"./PlusCircleIcon-BZ251gFF.js";import"./Bars3Icon-C3NvXC29.js";import"./HashtagIcon-Bc1O66FH.js";import"./multiselect-BtWcUH1S.js";/* empty css                */const ee={props:{assignments:Object,subjects:Object,classes:Object,errors:Object,request_data:Object},components:{AppLayout:E,FilterComponent:W,PencilSquareIcon:$,SingleAssignment:Q,EyeIcon:Z,TrashIcon:X,Pagination:K,"a-progress":G,"a-tooltip":R},data(){return{loading:!1,customDateFormat:"DD-MM-YYYY",visible:!1,update:!1,form:{id:"",teacher:this.$page.props.auth.id,subject:"",class:"",title:"",date:"",date2:"",mark:"",description:"",_method:null},filter:J.useForm({keyword:this.request_data.keyword??"",status:this.request_data.status??"",subject_id:this.request_data.subject_id??""})}},mounted(){this.route().params.id&&this.assignments.data.forEach(e=>{e.id==this.route().params.id&&this.edit(e)})},watch:{update:{deep:!0,handler(e,i){this.visible==!1&&(this.update=!1)}}},methods:{showModal(){this.visible=!0},handleOk(){this.route().params.id&&this.$inertia.get(route("assignment.index")),this.visible=!1},filterDataSet(e){this.filter.keyword=e.keyword??"",this.filter.status=e.status??"",this.filter.subject_id=e.subject_id??"",this.filterData()},filterData(){this.filter.get(this.route("assignment.index"))},submit(){this.loading=!0;let e=k(this.form.date[0]).format("YYYY-MM-DD"),i=k(this.form.date[1]).format("YYYY-MM-DD");this.form.date2=[e,i],this.update?this.$inertia.post(this.route("assignment.update",this.form.id),this.form,{onSuccess:l=>{this.reset()},onFinish:l=>{this.loading=!1}}):this.$inertia.post(this.route("assignment.store"),this.form,{onSuccess:l=>{this.reset()},onFinish:l=>{this.loading=!1}})},edit(e){this.form.id=e.id,this.form.teacher=e.user_id,this.form.subject=e.subject_id,this.form.class=e.course_id,this.form.title=e.title,this.form.mark=e.mark,this.form.description=e.description,this.form._method="PUT",this.form.date=[k(e.start_date,this.customDateFormat),k(e.end_date,this.customDateFormat)],this.form.date2=[e.start_date,e.end_date],this.update=!0,this.visible=!0},destroy(e){if(confirm("Are you sure ?"))this.$inertia.delete(this.route("assignment.destroy",e));else return!1},reset(){this.$inertia.get(route("assignment.index"))}}},te={class:"my-2"},re={class:"font-bold text-xl py-6 dark:text-gray-400"},se={class:"w-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4"},oe={class:"flex gap-1 items-center justify-center bg-black opacity-0 group-hover:opacity-100 duration-300 absolute z-50 left-0 top-0 bottom-0 right-0 rounded-md"},ie=["id"],ae=["onClick","id"],le=["onClick","id"],ne={key:1,class:"col-span-4 text-center"},de={class:"flex justify-center"},ue={class:"flex gap-2"},me={class:"dark:bg-gray-800 rounded-lg"},ce={selected:"",disabled:"",value:""},pe=["value"],ge={class:"mt-3"},be={selected:"",disabled:"",value:""},fe=["value"],_e={class:"mt-3 mb-1"},he={class:"mt-3 mb-1"},ke={class:"mt-3 mb-1"},ye={class:"mt-3 mb-1"};function ve(e,i,l,je,a,p){const C=s("Head"),A=s("BreadcrumbLink"),V=s("Breadcrumb"),y=s("global-button"),q=s("page-header"),F=s("filter-component"),Y=s("single-assignment"),L=s("eye-icon"),M=s("Link"),O=s("PencilSquareIcon"),x=s("trash-icon"),U=s("NothingFound"),B=s("pagination"),g=s("global-label"),b=s("input-error"),j=s("global-input"),I=s("a-range-picker"),P=s("global-textarea"),T=s("a-modal"),N=s("AppLayout");return u(),d(f,null,[t(C,{title:e.__("Assignment List")},null,8,["title"]),t(N,null,{default:m(()=>[t(V,null,{default:m(()=>[t(A,{title:e.__("Assignment List")},null,8,["title"])]),_:1}),t(q,null,{content:m(()=>[t(y,{loading:!1,type:"button",onClick:i[0]||(i[0]=r=>p.showModal()),theme:"primary"},{default:m(()=>[_(c(e.__("Create New Assignment")),1)]),_:1})]),default:m(()=>[_(c(e.__("Assignment List"))+" ",1)]),_:1}),o("div",te,[t(F,{subjects:l.subjects,filter_data:l.request_data,loading:a.filter.processing,onFilterDataSet:p.filterDataSet},null,8,["subjects","filter_data","loading","onFilterDataSet"]),l.assignments.data.length!=0?(u(!0),d(f,{key:0},h(l.assignments.data,(r,w)=>(u(),d(f,{key:w},[o("div",re,c(w),1),o("div",se,[(u(!0),d(f,null,h(r,n=>(u(),d("div",{class:"bg-white dark:bg-gray-800 dark:text-gray-400 rounded-lg relative group",key:n.id},[t(Y,{assignment:n},null,8,["assignment"]),o("div",oe,[t(M,{"preserve-scroll":"",href:e.route("assignment.details",n.slug)},{default:m(()=>[o("button",{type:"button",class:"bg-white relative rounded-full p-1.5",id:n?"viewAssignment"+n.id:""},[t(L,{class:"w-6 h-6 z-60 text-blue-500"})],8,ie)]),_:2},1032,["href"]),o("button",{onClick:z=>p.edit(n),type:"button",class:"bg-white relative rounded-full p-1.5",id:n?"editAssignment"+n.id:""},[t(O,{class:"w-6 h-6 z-60 text-purple-500"})],8,ae),o("button",{onClick:z=>p.destroy(n.id),type:"button",class:"bg-white relative rounded-full p-1.5",id:n?"deleteAssignment"+n.id:""},[t(x,{class:"w-6 h-6 z-60 text-red-500"})],8,le)])]))),128))])],64))),128)):(u(),d("div",ne,[t(U,{cssClass:"text-center",asShow:"div"})])),o("div",de,[t(B,{class:"mt-6",links:l.assignments.links},null,8,["links"])])]),t(T,{visible:a.visible,"onUpdate:visible":i[7]||(i[7]=r=>a.visible=r),width:"400px",title:a.update?e.__("Update Assignment"):e.__("Assignment Create"),onOk:p.handleOk},{footer:m(()=>[o("div",ue,[t(y,{loading:a.loading,type:"button",onClick:p.submit,theme:"primary"},{default:m(()=>[_(c(e.__("Save")),1)]),_:1},8,["loading","onClick"]),t(y,{loading:!1,type:"button",onClick:p.handleOk,theme:"outline-danger"},{default:m(()=>[_(c(e.__("Cancel")),1)]),_:1},8,["onClick"])])]),default:m(()=>[o("form",me,[o("div",null,[t(g,{for:"class",value:"Select Course",required:!0}),D(o("select",{"onUpdate:modelValue":i[1]||(i[1]=r=>a.form.class=r),id:"class",class:v([e.$page.props.errors.class?"border-red-500 dark:border-red-500":"","bg-gray-50 rounded-lg border border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"])},[o("option",ce,c(e.__("Select Course")),1),(u(!0),d(f,null,h(l.classes,r=>(u(),d("option",{key:r,value:r.id},c(r.name),9,pe))),128))],2),[[S,a.form.class]]),t(b,{error:e.$page.props.errors.class},null,8,["error"])]),o("div",ge,[t(g,{for:"subject",value:"Select Subject",required:!0}),D(o("select",{"onUpdate:modelValue":i[2]||(i[2]=r=>a.form.subject=r),id:"subject",class:v([e.$page.props.errors.subject?"border-red-500 dark:border-red-500":"","bg-gray-50 rounded-lg border border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"])},[o("option",be,c(e.__("Select Subject")),1),(u(!0),d(f,null,h(l.subjects,r=>(u(),d("option",{key:r,value:r.id},c(r.name),9,fe))),128))],2),[[S,a.form.subject]]),t(b,{error:e.$page.props.errors.subject},null,8,["error"])]),o("div",_e,[t(g,{for:"title",value:"Title",required:!0}),t(j,{type:"text",modelValue:a.form.title,"onUpdate:modelValue":i[3]||(i[3]=r=>a.form.title=r),id:"title",name:"title",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Assignment Title"),error:e.$page.props.errors.title},null,8,["modelValue","placeholder","error"]),t(b,{error:e.$page.props.errors.title},null,8,["error"])]),o("div",he,[t(g,{for:"date",value:"Date",required:!0}),t(I,{class:v([e.$page.props.errors.date?"border-custom":"","custom-input dark:bg-gray-700 dark:border-gray-700 dark:text-gray-400"]),name:"date","disabled-date":e.disabledDate,"disabled-time":e.disabledRangeTime,value:a.form.date,"onUpdate:value":i[4]||(i[4]=r=>a.form.date=r),format:a.customDateFormat},null,8,["class","disabled-date","disabled-time","value","format"]),t(b,{error:e.$page.props.errors.date},null,8,["error"])]),o("div",ke,[t(g,{for:"mark",value:"Mark",required:!0}),t(j,{type:"number",modelValue:a.form.mark,"onUpdate:modelValue":i[5]||(i[5]=r=>a.form.mark=r),id:"mark",name:"mark",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Assignment mark"),error:e.$page.props.errors.mark},null,8,["modelValue","placeholder","error"]),t(b,{error:e.$page.props.errors.mark},null,8,["error"])]),o("div",ye,[t(g,{for:"description",value:"Description",required:!1}),t(P,{modelValue:a.form.description,"onUpdate:modelValue":i[6]||(i[6]=r=>a.form.description=r),id:"description",name:"description",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Description"),error:e.$page.props.errors.description},null,8,["modelValue","placeholder","error"]),t(b,{error:e.$page.props.errors.description},null,8,["error"])])])]),_:1},8,["visible","title","onOk"])]),_:1})],64)}const ze=H(ee,[["render",ve],["__scopeId","data-v-491209ee"]]);export{ze as default};
