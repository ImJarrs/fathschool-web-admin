import{_ as I}from"./AppLayout-D06oZWsy.js";import{P as M}from"./Pagination-DHbdUHOs.js";import{s as P}from"./vue-color-kit-BEWqu7NR.js";import{_ as x,r as l,a0 as B,e as a,o as i,b as o,a as r,n as V,a1 as C,m as $,h as w,w as f,i as j,t as c,l as S,F,f as L,N as D,j as T,c as E}from"./app-B4siR4nP.js";import{r as H}from"./TrashIcon-Y0IuqUC6.js";import{r as G}from"./EyeIcon-BOU59fVo.js";import{r as J}from"./PencilSquareIcon-D3Yw7vGl.js";import{s as K}from"./multiselect-BtWcUH1S.js";/* empty css                */import"./index-DtyboiO1.js";import"./TopBarMenu-nQHiLmrq.js";import"./CheckCircleIcon-DRQ2Sg4c.js";import"./XMarkIcon-BWTnXq2K.js";import"./WarningToast-C-jPV3vQ.js";import"./UserIcon-C-1rgfXS.js";import"./PlusCircleIcon-BZ251gFF.js";import"./Bars3Icon-C3NvXC29.js";const Q={components:{ColorPicker:P},props:{classes:Object},data(){return{loading:!1,courses_options:[],form:{class:"",name:"",color:"#FF1900"},isOpenColorPicker:!1,isSucking:!0,swatches:["#1A535C","#C93737","#E5940E","#9F9F0F","#588157","#00A300","#169494","#1E68B1","#0E0E96","#6717B7","#AE14AE","#D00053","#283618","#5E6D81"]}},created(){var e;for(const[s,n]of Object.entries(this.classes))this.courses_options.push({value:n.id,label:n.name});this.form.class=(e=this.courses_options[0])==null?void 0:e.value},methods:{submit(){this.loading=!0,this.$inertia.post(this.route("subjects.store"),this.form,{onSuccess:e=>{this.$inertia.get(this.route("subjects.index"))},onFinish:e=>{this.loading=!1}})},changeColor(e){this.form.color=e.hex},changeEditColor(e){this.courseInfo.color=e.hex}}},R={class:"w-full"},W={class:"mb-3"},X={class:"mb-3"},Y={class:"mb-4"},Z={class:"flex items-center"},ee={class:"w-full relative"},oe={class:"relative ml-3"},se={key:0,class:"origin-top-right absolute right-16 mt-2 w-40 rounded-md shadow-lg"},te={class:"rounded-md bg-white shadow-xs px-4 py-3"},re={class:"flex flex-wrap -mx-2"};function le(e,s,n,O,t,u){const d=l("global-label"),b=l("a-select"),m=l("input-error"),g=l("global-input"),k=l("ColorPicker"),v=l("global-button"),y=B("click-outside");return i(),a("form",{onSubmit:s[4]||(s[4]=S(p=>u.submit(),["prevent"])),class:"p-6 dark:bg-gray-800 dark:text-gray-400"},[o("div",R,[o("div",W,[r(d,{for:"class",value:"Select Course",required:!1}),r(b,{class:V([e.$page.props.errors.class?"border-custom ":"","width-100"]),size:"large",value:t.form.class,"onUpdate:value":s[0]||(s[0]=p=>t.form.class=p),"show-search":"",placeholder:e.__("Select a sections"),options:t.courses_options,"filter-option":e.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["class","value","placeholder","options","filter-option","onFocus","onBlur","onChange"]),r(m,{error:e.$page.props.errors.class},null,8,["error"])]),o("div",X,[r(d,{for:"name",value:"Name",required:!1}),r(g,{modelValue:t.form.name,"onUpdate:modelValue":s[1]||(s[1]=p=>t.form.name=p),type:"text",id:"name",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Name"),error:e.$page.props.errors.name},null,8,["modelValue","placeholder","error"]),r(m,{error:e.$page.props.errors.name},null,8,["error"])]),o("div",Y,[r(d,{for:"name",value:e.__("Color"),required:!1},null,8,["value"]),o("div",Z,[o("div",ee,[r(g,{type:"text",id:"color",modelValue:t.form.color,"onUpdate:modelValue":s[2]||(s[2]=p=>t.form.color=p),class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Name"),error:e.$page.props.errors.color},null,8,["modelValue","placeholder","error"]),o("div",{class:"w-10 h-[42px] rounded-r absolute top-1 right-0",style:C(`background: ${t.form.color}; color: white`)},null,4)]),o("div",oe,[o("button",{type:"button",onClick:s[3]||(s[3]=p=>t.isOpenColorPicker=!t.isOpenColorPicker),class:"w-10 h-10 rounded-full focus:outline-none focus:shadow-outline inline-flex p-2 shadow",style:C(`background: ${t.form.color}; color: white`)},s[5]||(s[5]=[o("svg",{class:"w-6 h-6 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[o("path",{fill:"none",d:"M15.584 10.001L13.998 8.417 5.903 16.512 5.374 18.626 7.488 18.097z"}),o("path",{d:"M4.03,15.758l-1,4c-0.086,0.341,0.015,0.701,0.263,0.949C3.482,20.896,3.738,21,4,21c0.081,0,0.162-0.01,0.242-0.03l4-1 c0.176-0.044,0.337-0.135,0.465-0.263l8.292-8.292l1.294,1.292l1.414-1.414l-1.294-1.292L21,7.414 c0.378-0.378,0.586-0.88,0.586-1.414S21.378,4.964,21,4.586L19.414,3c-0.756-0.756-2.072-0.756-2.828,0l-2.589,2.589l-1.298-1.296 l-1.414,1.414l1.298,1.296l-8.29,8.29C4.165,15.421,4.074,15.582,4.03,15.758z M5.903,16.512l8.095-8.095l1.586,1.584 l-8.096,8.096l-2.114,0.529L5.903,16.512z"})],-1)]),4),t.isOpenColorPicker?$((i(),a("div",se,[o("div",te,[o("div",re,[r(k,{theme:"dark",color:t.form.color,"sucker-hide":!0,onChangeColor:u.changeColor,onOpenSucker:e.openSucker,"colors-default":t.swatches},null,8,["color","onChangeColor","onOpenSucker","colors-default"])])])])),[[y,()=>t.isOpenColorPicker=!1]]):w("",!0)])])])]),r(v,{loading:t.loading,type:"submit",theme:"primary"},{default:f(()=>[j(c(e.__("Save")),1)]),_:1},8,["loading"])],32)}const ne=x(Q,[["render",le],["__scopeId","data-v-8b6965f7"]]),ie={components:{PencilSquareIcon:J,EyeIcon:G,TrashIcon:H},props:{subject:Object},data(){return{visible:!1,show_subject:""}},methods:{destroy(e){if(confirm("Are you sure ?"))this.$inertia.delete(this.route("subjects.destroy",e));else return!1},edit(e){this.$emit("edit",e)},show(e){this.show_subject=e,this.visible=!0},hide(e){this.visible=!1}}},ae={class:"flex justify-between px-6 pt-6 pb-2.5"},ce={class:"text-gray-900 dark:text-gray-400"},ue={class:"flex gap-2"},de=["id"],pe=["id"],me={class:"px-6 pt-4 pb-6 dark:text-gray-400"},_e={class:"dark:text-gray-400"};function he(e,s,n,O,t,u){const d=l("PencilSquareIcon"),b=l("trash-icon");return i(),a(F,null,[o("div",ae,[o("h2",ce,c(n.subject.name),1),o("div",ue,[o("div",null,[o("button",{onClick:s[0]||(s[0]=m=>u.edit(n.subject)),id:"editSubject"+n.subject.id},[r(d,{class:"w-6 h-6 text-blue-400"})],8,de)]),o("form",{onSubmit:s[1]||(s[1]=S(m=>u.destroy(n.subject.id),["prevent"]))},[o("button",{type:"submit",id:"deleteSubject"+n.subject.id},[r(b,{class:"w-6 h-6 text-red-400"})],8,pe)],32)])]),s[2]||(s[2]=o("hr",{class:"dark:border-gray-700"},null,-1)),o("div",me,[o("h2",_e,[j(c(e.__("Course"))+": ",1),o("span",null,c(n.subject.course?n.subject.course.name:""),1)]),o("p",null,c(e.__("Created At"))+": "+c(e.formatTime(n.subject.created_at)),1),o("div",{class:"w-full h-2",style:C(`background-color: ${n.subject.color}`)},null,4)])],64)}const fe=x(ie,[["render",he]]),be={components:{ColorPicker:P},props:{subject:Object,classes:Object},data(){return{courses_options:[],form:L.useForm({course:this.subject.course_id,name:this.subject.name,color:this.subject.color,_method:"PUT"}),isOpenColorPicker:!1,isSucking:!0,swatches:["#1A535C","#C93737","#E5940E","#9F9F0F","#588157","#00A300","#169494","#1E68B1","#0E0E96","#6717B7","#AE14AE","#D00053","#283618","#5E6D81"]}},created(){for(const[e,s]of Object.entries(this.classes))this.courses_options.push({value:s.id,label:s.name})},watch:{subject:{deep:!0,handler(e,s){this.form.course=e.course_id,this.form.name=e.name,this.form.color=e.color}}},methods:{submit(){this.form.post(this.route("subjects.update",this.subject.id),{onSuccess:e=>{this.$inertia.get(this.route("subjects.index"))}})},changeColor(e){this.form.color=e.hex},changeEditColor(e){this.courseInfo.color=e.hex}}},ge={class:"w-full"},ve={class:"mb-3"},ke={class:"mb-3"},ye={class:"mb-4"},we={class:"flex items-center"},Ce={class:"w-full relative"},je={class:"relative ml-3"},xe={key:0,class:"origin-top-right absolute right-16 mt-2 w-40 rounded-md shadow-lg"},Se={class:"rounded-md bg-white shadow-xs px-4 py-3"},Oe={class:"flex flex-wrap -mx-2"},Fe={class:"flex gap-2"};function Ee(e,s,n,O,t,u){const d=l("global-label"),b=l("a-select"),m=l("input-error"),g=l("global-input"),k=l("ColorPicker"),v=l("global-button"),y=l("Link"),p=B("click-outside");return i(),a("form",{onSubmit:s[4]||(s[4]=S(_=>u.submit(),["prevent"])),class:"p-6 dark:bg-gray-800 dark:text-gray-400"},[o("div",ge,[o("div",ve,[r(d,{for:"class",value:"Select Course",required:!1}),r(b,{class:V([e.$page.props.errors.class?"border-custom ":"","width-100"]),size:"large",value:t.form.course,"onUpdate:value":s[0]||(s[0]=_=>t.form.course=_),"show-search":"",placeholder:e.__("Select Course"),options:t.courses_options,"filter-option":e.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["class","value","placeholder","options","filter-option","onFocus","onBlur","onChange"]),r(m,{error:e.$page.props.errors.class},null,8,["error"])]),o("div",ke,[r(d,{for:"name",value:"Name",required:!1}),r(g,{modelValue:t.form.name,"onUpdate:modelValue":s[1]||(s[1]=_=>t.form.name=_),type:"text",id:"name",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Name"),error:e.$page.props.errors.name},null,8,["modelValue","placeholder","error"]),r(m,{error:e.$page.props.errors.name},null,8,["error"])]),o("div",ye,[r(d,{for:"name",value:"Color",required:!1}),o("div",we,[o("div",Ce,[r(g,{type:"text",id:"color",modelValue:t.form.color,"onUpdate:modelValue":s[2]||(s[2]=_=>t.form.color=_),class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Name"),error:e.$page.props.errors.color},null,8,["modelValue","placeholder","error"]),o("div",{class:"w-10 h-[42px] rounded-r absolute top-1 right-0",style:C(`background: ${t.form.color}; color: white`)},null,4)]),o("div",je,[o("button",{type:"button",onClick:s[3]||(s[3]=_=>t.isOpenColorPicker=!t.isOpenColorPicker),class:"w-10 h-10 rounded-full focus:outline-none focus:shadow-outline inline-flex p-2 shadow",style:C(`background: ${t.form.color}; color: white`)},s[5]||(s[5]=[o("svg",{class:"w-6 h-6 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[o("path",{fill:"none",d:"M15.584 10.001L13.998 8.417 5.903 16.512 5.374 18.626 7.488 18.097z"}),o("path",{d:"M4.03,15.758l-1,4c-0.086,0.341,0.015,0.701,0.263,0.949C3.482,20.896,3.738,21,4,21c0.081,0,0.162-0.01,0.242-0.03l4-1 c0.176-0.044,0.337-0.135,0.465-0.263l8.292-8.292l1.294,1.292l1.414-1.414l-1.294-1.292L21,7.414 c0.378-0.378,0.586-0.88,0.586-1.414S21.378,4.964,21,4.586L19.414,3c-0.756-0.756-2.072-0.756-2.828,0l-2.589,2.589l-1.298-1.296 l-1.414,1.414l1.298,1.296l-8.29,8.29C4.165,15.421,4.074,15.582,4.03,15.758z M5.903,16.512l8.095-8.095l1.586,1.584 l-8.096,8.096l-2.114,0.529L5.903,16.512z"})],-1)]),4),t.isOpenColorPicker?$((i(),a("div",xe,[o("div",Se,[o("div",Oe,[r(k,{theme:"dark",color:t.form.color,"sucker-hide":!0,onChangeColor:u.changeColor,onOpenSucker:e.openSucker,"colors-default":t.swatches},null,8,["color","onChangeColor","onOpenSucker","colors-default"])])])])),[[p,()=>t.isOpenColorPicker=!1]]):w("",!0)])])])]),o("div",Fe,[r(v,{loading:t.form.processing,type:"submit",theme:"primary"},{default:f(()=>[j(c(e.__("Update")),1)]),_:1},8,["loading"]),r(y,{"preserve-scroll":"",href:e.route("subjects.index"),class:"hover:text-gray-500"},{default:f(()=>[r(v,{loading:!1,type:"button",theme:"outline-danger"},{default:f(()=>[j(c(e.__("Cancel")),1)]),_:1})]),_:1},8,["href"])]),s[6]||(s[6]=o("br",null,null,-1))],32)}const Pe=x(be,[["render",Ee],["__scopeId","data-v-3b851ce7"]]),Be={components:{Multiselect:K,NothingFound:D,Pagination:M,AppLayout:I,SingleSubject:fe,CreateForm:ne,UpdateForm:Pe},props:{subjects:Object,errors:Object,classes:Object,query:Object},data(){return{filter:L.useForm({course_id:this.query.course_id??null}),update:!1,subject:""}},methods:{edit(e){this.subject=e,this.update=!0},filterData(){this.filter.get(this.route("subjects.index"),{preserveScroll:!0})}}},Ve={class:"pb-12"},$e={class:"dark:text-gray-400"},Le={key:0,class:"mb-3"},Ne={class:"lg:w-1/4 sm:w-1/3 w-full"},Ae={class:"inline-flex lg:w-1/4 sm:w-1/3 w-full"},qe={class:"grid gap-6 grid-cols-1 xl:grid-cols-4 md:grid-cols-2"},Ue={class:"col-span-1 xl:col-span-3 auto-rows-min"},ze={key:0},Ie={class:"grid gap-6 grid-cols-1 xl:grid-cols-3"},Me={key:1,class:"text-center card bg-white dark:bg-gray-800 dark:text-white"},De={class:"flex justify-center px-6 pt-6 pb-2.5"},Te={class:"text-gray-900 dark:text-gray-400"},He={class:"flex justify-center"},Ge={class:"bg-white rounded-lg dark:bg-gray-800"},Je={class:"p-3.5 text-gray-900 dark:text-gray-400 text-base font-bold"},Ke={key:0},Qe={class:"flex justify-between"},Re={key:1};function We(e,s,n,O,t,u){const d=l("Head"),b=l("BreadcrumbLink"),m=l("Breadcrumb"),g=l("page-header"),k=l("global-label"),v=l("Multiselect"),y=l("global-button"),p=l("single-subject"),_=l("NothingFound"),N=l("pagination"),A=l("create-form"),q=l("update-form"),U=l("AppLayout");return i(),a(F,null,[r(d,{title:e.__("Subject List")},null,8,["title"]),r(U,null,{default:f(()=>[r(m,null,{default:f(()=>[r(b,{title:e.__("Subject")},null,8,["title"])]),_:1}),o("div",Ve,[r(g,null,{default:f(()=>[o("div",$e,c(e.__("Subject")),1)]),_:1}),n.subjects.data.length>0?(i(),a("div",Le,[o("form",{class:"flex gap-6 sm:items-end flex-col sm:flex-row",onSubmit:s[1]||(s[1]=S(h=>u.filterData(),["prevent"]))},[o("div",Ne,[r(k,{for:"class",value:"Course",required:!1}),r(v,{id:"class","close-on-select":!0,"can-clear":!0,searchable:!0,modelValue:t.filter.course_id,"onUpdate:modelValue":s[0]||(s[0]=h=>t.filter.course_id=h),"create-option":!1,placeholder:e.__("Select Course"),options:n.classes.map(h=>({value:h.id,label:h.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"])]),o("div",Ae,[r(y,{loading:t.filter.processing,type:"submit",theme:"primary"},{default:f(()=>[j(c(e.__("Filter Search")),1)]),_:1},8,["loading"])])],32)])):w("",!0),o("div",qe,[o("div",Ue,[n.subjects.data.length>0?(i(),a("div",ze,[o("div",Ie,[(i(!0),a(F,null,T(n.subjects.data,(h,z)=>(i(),a("div",{class:"card bg-white rounded-lg dark:bg-gray-800 dark:text-gray-400",key:z},[r(p,{onEdit:Xe=>u.edit(h),subject:h},null,8,["onEdit","subject"])]))),128))])])):(i(),a("div",Me,[o("div",De,[o("h2",Te,[r(_,{asShow:"div"})])])])),o("div",null,[o("div",He,[r(N,{class:"mt-6",links:n.subjects.links},null,8,["links"])])])]),o("div",null,[o("div",Ge,[o("h2",Je,[t.update?(i(),a("span",Ke,[o("div",Qe,[o("div",null,c(e.__("Update Subject")),1)])])):(i(),a("span",Re,c(e.__("Create New Subject")),1))]),s[2]||(s[2]=o("hr",{class:"dark:border-gray-700"},null,-1)),t.update?w("",!0):(i(),E(A,{key:0,classes:n.classes},null,8,["classes"])),t.update?(i(),E(q,{key:1,classes:n.classes,subject:t.subject},null,8,["classes","subject"])):w("",!0)])])])])]),_:1})],64)}const fo=x(Be,[["render",We]]);export{fo as default};
