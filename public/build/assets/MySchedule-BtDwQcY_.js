import{_ as S}from"./AppLayout-pRkTteQX.js";import{P as x}from"./Pagination-BOIqYq_w.js";import{T as u}from"./ToolTip-BDAKiZ28.js";import{_ as k,r as a,c as V,o as m,w as c,a as l,b as i,i as p,t as _,l as w,n as C,e as M,h as B,f as T}from"./app-R3TKzMFz.js";import{F as q,m as A,a as F}from"./main-DabsMeR3.js";import{m as L}from"./main-Bk5HSv5c.js";import{m as D}from"./main-9gx3aQUK.js";import{s as G}from"./multiselect-S7NpFuS0.js";/* empty css                */import"./index-KXBnMdcv.js";import"./TopBarMenu-CcNsgK0k.js";import"./CheckCircleIcon-B4BTDw9l.js";import"./XMarkIcon-8_3jvOSV.js";import"./WarningToast-B-mvdry_.js";import"./UserIcon-CI54yQqe.js";import"./PlusCircleIcon-GzopV6YD.js";import"./Bars3Icon-BbGKyUny.js";const N={components:{AppLayout:S,ToolTip:u,Pagination:x,ToolTip:u,FullCalendar:q,Multiselect:G},props:{routines:Object,schedules:Array,classes:Array,teachers:Array,query:Object},data(){return{filter:T.useForm({course_id:this.query.course_id??"",subject_id:this.query.subject_id??"",teacher_id:this.query.teacher_id??""}),calendarOptions:{locale:this.$page.props.locale,plugins:[A,F,L,D],initialView:"timeGridWeek",selectable:!1,editable:!1,height:800,buttonText:{prev:this.__("prev"),next:this.__("next"),today:this.__("today"),month:this.__("month"),week:this.__("week"),day:this.__("day"),list:this.__("list")},headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},events:this.schedules,eventContent:function(t){return{html:t.event.title.replace(/<br>/g,"<br>")}}},subjects:[],filter_subjects:[]}},watch:{"form.class":{deep:!0,handler(t){this.loadSubjects("modal")}},"filter.course_id":{deep:!0,handler(t){this.loadSubjects("filter")}}},methods:{async loadSubjects(t){let s=t=="modal"?this.form.class:this.filter.course_id,r=await axios.get(route("fetch.subjects",s));t=="modal"?this.subjects=r.data:this.filter_subjects=r.data},filterData(){this.filter.get(this.route("my.schedule"),{preserveScroll:!0})}},mounted(){this.loadSubjects("filter")}},O={class:"mb-3"},U={class:"mt-0.5 xl:col-span-1 md:col-span-2"},Y={class:"mt-0.5 xl:col-span-1 md:col-span-2"},E={key:0,class:"mt-0.5 xl:col-span-1 md:col-span-2"},P={class:"col-span-1 md:mt-5 xl:col-span-1 md:col-span-2 xl:flex xl:justify-end"},W={class:"col-span-2 bg-white overflow-x-auto rounded-lg dark:bg-gray-800 p-6"};function z(t,s,r,H,o,f){const h=a("BreadcrumbLink"),b=a("Breadcrumb"),g=a("page-header"),n=a("global-label"),d=a("Multiselect"),y=a("global-button"),v=a("FullCalendar"),j=a("AppLayout");return m(),V(j,{title:t.__("MY Schedule")},{default:c(()=>[l(b,null,{default:c(()=>[l(h,{title:t.__("MY Schedule")},null,8,["title"])]),_:1}),i("div",null,[l(g,{class:"flex items-center justify-between"},{default:c(()=>[p(_(t.__("MY Schedule")),1)]),_:1}),i("div",O,[i("form",{class:C(["items-center grid grid-cols-1 gap-6",r.teachers?"md:grid-cols-4":"md:grid-cols-3"]),onSubmit:s[3]||(s[3]=w(e=>f.filterData(),["prevent"]))},[i("div",U,[l(n,{for:"name",value:"Select Course",required:!1}),l(d,{id:"class",class:"dark:text-gray-900",modelValue:o.filter.course_id,"onUpdate:modelValue":s[0]||(s[0]=e=>o.filter.course_id=e),"close-on-select":!0,"can-clear":!1,searchable:!0,"create-option":!1,placeholder:t.__("Select Course"),options:r.classes.map(e=>({value:e.id,label:e.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"])]),i("div",Y,[l(n,{for:"name",value:"Select Subject",required:!1}),l(d,{id:"subject",class:"dark:text-gray-900",modelValue:o.filter.subject_id,"onUpdate:modelValue":s[1]||(s[1]=e=>o.filter.subject_id=e),"close-on-select":!0,"can-clear":!1,searchable:!0,"create-option":!1,placeholder:t.__("Select Subject"),options:o.filter_subjects.map(e=>({value:e.id,label:e.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"])]),r.teachers?(m(),M("div",E,[l(n,{for:"name",value:"Select Teacher",required:!1}),l(d,{id:"teacher",class:"dark:text-gray-900",modelValue:o.filter.teacher_id,"onUpdate:modelValue":s[2]||(s[2]=e=>o.filter.teacher_id=e),"close-on-select":!0,"can-clear":!1,searchable:!0,"create-option":!1,placeholder:t.__("Select Teacher"),options:r.teachers.map(e=>({value:e.id,label:e.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"])])):B("",!0),i("div",P,[l(y,{loading:o.filter.processing,type:"submit",theme:"primary"},{default:c(()=>[p(_(t.__("Search")),1)]),_:1},8,["loading"])])],34)]),i("div",W,[l(v,{options:o.calendarOptions,class:"min-w-[991px]"},null,8,["options"])])])]),_:1},8,["title"])}const ne=k(N,[["render",z]]);export{ne as default};
