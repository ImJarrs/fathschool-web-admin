import{_ as P}from"./AppLayout-pRkTteQX.js";import{P as T}from"./Pagination-BOIqYq_w.js";import{_ as V,N as A,r,c as F,o as a,w as l,a as o,b as e,i as g,t as i,e as d,h as b,l as q,F as D,j as M,f as O}from"./app-R3TKzMFz.js";import{r as E}from"./TrashIcon-bv6UB_hV.js";import{r as H}from"./PencilSquareIcon-CBvao7ks.js";import{c as U}from"./TopBarMenu-CcNsgK0k.js";import"./index-KXBnMdcv.js";import"./WarningToast-B-mvdry_.js";import"./UserIcon-CI54yQqe.js";import"./PlusCircleIcon-GzopV6YD.js";import"./CheckCircleIcon-B4BTDw9l.js";import"./Bars3Icon-BbGKyUny.js";import"./XMarkIcon-8_3jvOSV.js";const W={props:{notice:Object,comments:Object},components:{AppLayout:P,Pagination:T,CalendarIcon:U,PencilSquareIcon:H,TrashIcon:E,NothingFound:A},data(){return{update:!1,form:O.useForm({id:"",notice_id:this.notice.id,description:"",_method:"POST"})}},methods:{edit(t){this.form.id=t.id,this.form.description=t.comment,this.form._method="PUT",this.update=!0},destroy(t){confirm("Are you sure ?")&&this.form.delete(this.route("comment.destroy",t),{preserveScroll:!0,onSuccess:c=>{}})},comment(){this.update?this.form.post(this.route("comment.update",this.form.id),{preserveScroll:!0,onSuccess:t=>{this.form.reset("description","_method")}}):this.form.post(this.route("comment.store"),{preserveScroll:!0,onSuccess:t=>{this.form.reset("description","_method")}})}}},z={class:"grid gap-6 items-start xl:grid-cols-3 md:grid-cols-2 grid-cols-1",id:"testNoticeDetails"},G={class:"bg-white w-full md:col-span-2 mb-2 hover:cursor-pointer overflow-hidden rounded-lg dark:bg-gray-800 dark:text-gray-400"},J=["src"],K={class:"p-4"},Q={class:"flex items-center justify-between mb-3"},R={class:"flex items-center gap-1.5 mb-0"},X={key:0,class:"inline-flex gap-3 items-center"},Y={class:"text-2xl font-bold text-gray-900 dark:text-gray-400"},Z=["innerHTML"],$={class:"w-full rounded-lg bg-white dark:bg-gray-800"},ee={class:"p-6",id:"commentSection"},te={class:"text-lg text-gray-900 dark:text-gray-400 mb-4"},oe={class:"inline-flex overflow-hidden w-10 h-10"},se=["src","alt"],re={class:"w-full"},ne={class:"flex mb-1.5 justify-between items-center"},ie={class:"flex gap-2 items-center"},ae={class:"text-base mb-0 text-gray-900 dark:text-gray-400"},le={class:"text-xs text-gray-900 dark:text-gray-500 mb-0"},ce={key:0,class:"flex gap-3 items-center"},de=["onClick","id"],me=["onClick","id"],ue={class:"text-sm text-gray-700 dark:text-gray-500"},_e={key:1,class:"text-center"},he={class:"flex justify-center"};function pe(t,c,n,fe,u,m){const _=r("BreadcrumbLink"),y=r("Breadcrumb"),x=r("page-header"),k=r("CalendarIcon"),h=r("PencilSquareIcon"),p=r("Link"),f=r("TrashIcon"),v=r("global-label"),w=r("global-textarea"),C=r("input-error"),S=r("global-button"),N=r("NothingFound"),B=r("pagination"),L=r("AppLayout");return a(),F(L,{title:t.__("Notice Board")},{default:l(()=>[o(y,null,{default:l(()=>[o(_,{title:t.__("Notice Board")},null,8,["title"]),o(_,{title:t.__(n.notice.title)},null,8,["title"])]),_:1}),e("div",null,[o(x,null,{default:l(()=>[g(i(n.notice.title),1)]),_:1}),e("div",z,[e("div",G,[e("div",null,[e("img",{class:"w-full h-[424px] object-cover",src:n.notice.attachment_url,alt:""},null,8,J)]),e("div",K,[e("div",Q,[e("p",R,[o(k,{class:"w-6 h-6 text-blue-500"}),e("span",null,i(n.notice.publish_at),1)]),t.$page.props.auth.role=="Admin"?(a(),d("div",X,[o(p,{href:t.route("notice-board.index"),data:{id:n.notice.id}},{default:l(()=>[o(h,{class:"w-5 h-5 text-[#767676]"})]),_:1},8,["href","data"]),o(p,{href:t.route("notice-board.index"),data:{id:n.notice.id}},{default:l(()=>[o(f,{class:"w-5 h-5 text-[#767676]"})]),_:1},8,["href","data"])])):b("",!0)]),e("h2",Y,i(n.notice.title),1),e("div",{innerHTML:n.notice.description,class:"mt-4 mb-2 text-gray-900 dark:text-gray-500"},null,8,Z)])]),e("div",$,[e("form",{onSubmit:c[1]||(c[1]=q(s=>m.comment(),["prevent"])),class:"border-b border-gray-300 dark:border-gray-600 p-6"},[o(v,{class:"text-lg text-gray-900 mb-3",for:"comment",value:t.__("Write A Comment"),required:!0},null,8,["value"]),o(w,{placeholder:t.__("Description"),modelValue:u.form.description,"onUpdate:modelValue":c[0]||(c[0]=s=>u.form.description=s),rows:"3",id:"comment",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400"},null,8,["placeholder","modelValue"]),o(C,{error:t.$page.props.errors.description},null,8,["error"]),o(S,{type:"submit",cssClass:"mt-3",theme:"primary"},{default:l(()=>[g(i(t.__("Publish")),1)]),_:1})],32),e("div",ee,[e("h2",te,i(t.__("Comments")),1),e("ul",null,[n.comments.data.length>0?(a(!0),d(D,{key:0},M(n.comments.data,(s,I)=>(a(),d("li",{class:"flex gap-3 items-start",key:I},[e("div",oe,[e("img",{class:"rounded-full w-full h-full object-cover",src:s.user?s.user.profile_photo_url:"",alt:s.user?s.user.name:""},null,8,se)]),e("div",re,[e("div",ne,[e("div",ie,[e("h2",ae,i(s.user?s.user.name:""),1),e("p",le,i(s.time),1)]),s.user.id==t.$page.props.auth.id?(a(),d("div",ce,[e("button",{type:"button",onClick:j=>m.edit(s),id:"editComment"+s.id,class:"w-6 h-6 text-gray-500"},[o(h)],8,de),e("button",{type:"button",onClick:j=>m.destroy(s.id),id:"deleteComment"+s.id,class:"w-6 h-6 text-gray-500"},[o(f)],8,me)])):b("",!0)]),e("p",ue,i(s.comment),1)])]))),128)):(a(),d("li",_e,[o(N,{asShow:"div"})]))]),e("div",he,[o(B,{class:"mt-6",links:n.comments.links},null,8,["links"])])])])])])]),_:1},8,["title"])}const je=V(W,[["render",pe]]);export{je as default};
