import{_ as A}from"./AppLayout-D06oZWsy.js";import{T as Y}from"./ToolTip-DNh-kznG.js";import{P as z}from"./Pagination-DHbdUHOs.js";import{_ as I,N as Z,r as a,c as v,o as u,w as d,a as l,b as s,i as f,t as n,l as V,e as g,h as K,n as b,F as N,j as F,m as w,p as k,k as U,f as D}from"./app-B4siR4nP.js";import R from"./SingleOnlineClass-DGX2LH62.js";import{s as W}from"./multiselect-BtWcUH1S.js";/* empty css                */import{r as G}from"./PencilSquareIcon-D3Yw7vGl.js";import"./index-DtyboiO1.js";import"./TopBarMenu-nQHiLmrq.js";import"./CheckCircleIcon-DRQ2Sg4c.js";import"./XMarkIcon-BWTnXq2K.js";import"./WarningToast-C-jPV3vQ.js";import"./UserIcon-C-1rgfXS.js";import"./PlusCircleIcon-BZ251gFF.js";import"./Bars3Icon-C3NvXC29.js";import"./LinkIcon-BdxE77ja.js";import"./EyeIcon-BOU59fVo.js";import"./HashtagIcon-Bc1O66FH.js";import"./TrashIcon-Y0IuqUC6.js";import"./CheckBadgeIcon-DxdEdqGj.js";const J={components:{AppLayout:A,ToolTip:Y,PencilSquareIcon:G,Pagination:z,Multiselect:W,SingleOnlineClass:R,NothingFound:Z},props:{online_classes:Object,filter_data:Object,courses:Object,subjects:Object},data(){return{createNewClass:!1,update:!1,start_date_value:null,form:D.useForm({id:"",topic:"",start_date:"",password:"",description:"",_method:this.update?"PUT":"POST",course:null,subject:null,status:"waiting"}),filter:D.useForm({keyword:this.filter_data.keyword??"",status:this.filter_data.status??"",course:this.filter_data.course??"",subject:this.filter_data.subject??""}),tab:this.filter_data.status??"all"}},methods:{setTabValue(e){let r=e.filter_column_data??"",i=e.value??"";this.filter[r]=i},submit(){this.start_date_value?this.form.start_date=U(this.start_date_value).format("YYYY-MM-DDTHH:mm:ssZZ"):this.form.start_date="",this.update?this.form.post(this.route("online.class.update",this.form.id),{preserveScroll:!0,onSuccess:e=>{this.form.reset("id","topic","start_date","password","description","_method","course","subject"),this.start_date_value=null}}):this.form.post(this.route("online.class.store"),{preserveScroll:!0,onSuccess:e=>{this.form.reset("id","topic","start_date","password","description","_method","course","subject"),this.start_date_value=null}})},edit(e){this.form.id=e.id,this.form.topic=e.topic,this.form.start_date=e.start_time,this.form.password=e.password,this.form.description=e.description,this.form._method="PUT",this.form.course=e.course_id,this.form.subject=e.subject_id,this.form.status=e.status,this.start_date_value=null,this.start_date_value=U(e.start_time),this.update=!0,this.createNewClass=!0},filterData(){this.filter.get(this.route("online.class.index"))}}},Q={class:"pb-12"},X={class:"bg-blue-500 px-1 text-white text-xs"},$={class:"mb-3 ml-0.5"},ee={class:""},te={class:"grid xl:grid-cols-3 gap-6 pt-6"},re={class:"grid 2xl:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-6"},se={class:"flex justify-center"},oe={key:2,class:"bg-white dark:bg-gray-800 p-3 rounded-md"},le={class:"text-lg dark:text-gray-400 font-bold px-4 mb-3 mt-3"},ae={class:"mb-3"},ie={class:"mb-3"},ne={class:"mb-3"},de={class:"mb-3"},ue={class:"mb-3"},pe={class:"mb-3 w-full"},ce={class:"flex justify-between items-center gap-2 w-full"},me={class:"w-full flex items-center pl-4 border border-gray-200 rounded dark:border-gray-700"},fe={for:"status_waiting",class:"w-full py-2 ml-2 mr-4 text-sm font-medium text-gray-900 dark:text-gray-300"},ge={class:"w-full flex items-center pl-4 border border-gray-200 rounded dark:border-gray-700"},_e={for:"status_upcoming",class:"w-full py-2 ml-2 mr-4 text-sm font-medium text-gray-900 dark:text-gray-300"},be={class:"w-full flex items-center pl-4 border border-gray-200 rounded dark:border-gray-700"},he={for:"status_completed",class:"w-full py-2 ml-2 mr-4 text-sm font-medium text-gray-900 dark:text-gray-300"},ye={class:"flex gap-4 mt-8"};function ve(e,r,i,we,o,m){const T=a("BreadcrumbLink"),B=a("Breadcrumb"),_=a("global-button"),O=a("page-header"),h=a("global-input"),C=a("Multiselect"),L=a("tab-filter"),q=a("single-online-class"),x=a("pagination"),M=a("NothingFound"),p=a("global-label"),c=a("input-error"),P=a("a-date-picker"),j=a("a-select"),H=a("global-textarea"),E=a("AppLayout");return u(),v(E,{title:e.__("Online Class List")},{default:d(()=>[l(B,null,{default:d(()=>[l(T,{title:e.__("Online Class-List")},null,8,["title"])]),_:1}),s("div",Q,[l(O,null,{content:d(()=>[l(_,{loading:e.loading,onClick:r[0]||(r[0]=t=>o.createNewClass=!o.createNewClass),type:"button",theme:"primary"},{default:d(()=>[f(n(e.__("Create New Class")),1)]),_:1},8,["loading"])]),default:d(()=>[f(n(e.__("Online Class"))+" ",1),s("span",X,n(i.online_classes.total),1)]),_:1}),s("div",$,[s("form",{class:"grid grid-cols-1 xl:grid-cols-4 gap-6 items-left",onSubmit:r[4]||(r[4]=V(t=>m.filterData(),["prevent"]))},[s("div",null,[l(h,{id:"search",modelValue:o.filter.keyword,"onUpdate:modelValue":r[1]||(r[1]=t=>o.filter.keyword=t),type:"search",class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Keyword"),error:e.$page.props.errors.keyword},null,8,["modelValue","placeholder","error"])]),s("div",null,[l(C,{id:"course","close-on-select":!0,"can-clear":!0,searchable:!0,modelValue:o.filter.course,"onUpdate:modelValue":r[2]||(r[2]=t=>o.filter.course=t),"create-option":!1,placeholder:e.__("Select Course"),options:i.courses&&i.courses.map(t=>({value:t.id,label:t.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"])]),s("div",null,[l(C,{id:"subject","close-on-select":!0,"can-clear":!0,searchable:!0,modelValue:o.filter.subject,"onUpdate:modelValue":r[3]||(r[3]=t=>o.filter.subject=t),"create-option":!1,placeholder:e.__("Select Subject"),options:i.subjects&&i.subjects.map(t=>({value:t.id,label:t.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"])]),s("div",ee,[l(L,{onSetTabData:m.setTabValue,filterData:i.filter_data?i.filter_data.status:"",filter_column:"status",tab_data:[{title:"All",id:"all",value:"all"},{title:"Upcoming",id:"upcoming",value:"upcoming"},{title:"Completed",id:"completed",value:"completed"}]},{default:d(()=>[l(_,{loading:o.form.processing,type:"submit",theme:"primary",class:"whitespace-nowrap"},{default:d(()=>[f(n(e.__("Search")),1)]),_:1},8,["loading"])]),_:1},8,["onSetTabData","filterData"])])],32)]),s("div",te,[i.online_classes.data.length!=0?(u(),g("div",{key:0,class:b(["xl:col-span-2",o.createNewClass?"xl:col-span-2":"xl:col-span-3"])},[(u(!0),g(N,null,F(i.online_classes.data,(t,y)=>(u(),g("div",{class:"",key:y},[s("div",{class:b(["font-bold text-xl pb-4 dark:text-gray-400",y=="Completed Class"?"mt-4":""])},n(y),3),s("div",re,[(u(!0),g(N,null,F(t,S=>(u(),v(q,{editFunction:m.edit,item:S,key:S.id},null,8,["editFunction","item"]))),128))])]))),128)),s("div",se,[l(x,{class:"mt-6",links:i.online_classes.links},null,8,["links"])])],2)):(u(),v(M,{key:1,asShow:"div",cssClass:"text-center col-span-3"})),o.createNewClass?(u(),g("div",oe,[s("div",le,n(e.__("Create New Class")),1),s("form",{onSubmit:r[16]||(r[16]=V(t=>m.submit(),["prevent"])),class:"w-full px-4 dark:border-gray-700 rounded-lg"},[s("div",ae,[l(p,{for:"topic",value:"Topic",required:!0}),l(h,{type:"text",modelValue:o.form.topic,"onUpdate:modelValue":r[5]||(r[5]=t=>o.form.topic=t),id:"topic",name:"topic",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter Topic"),error:e.$page.props.errors.topic},null,8,["modelValue","placeholder","error"]),l(c,{error:e.$page.props.errors.topic},null,8,["error"])]),s("div",ie,[l(p,{for:"start_date",value:"Start Date",required:!0}),l(P,{"show-time":{format:"HH:mm"},value:o.start_date_value,"onUpdate:value":r[6]||(r[6]=t=>o.start_date_value=t),id:"start_date",class:"w-full custom-input dark:bg-gray-500 dark:border-gray-700 dark:text-gray-400",format:e.getDateTimeFormat()+" HH:mm:ss",placeholder:e.__("Select Start Date")},null,8,["value","format","placeholder"]),l(c,{error:e.$page.props.errors.start_date},null,8,["error"])]),s("div",ne,[l(p,{for:"title",value:"Select Course",required:!0}),l(j,{class:b([e.$page.props.errors.subject?"border-custom ":"","width-100"]),size:"large",value:o.form.course,"onUpdate:value":r[7]||(r[7]=t=>o.form.course=t),"show-search":"",placeholder:e.__("Select a course"),options:i.courses.map(t=>({value:t.id,label:t.name})),"filter-option":e.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["class","value","placeholder","options","filter-option","onFocus","onBlur","onChange"]),l(c,{error:e.$page.props.errors.course},null,8,["error"])]),s("div",de,[l(p,{for:"title",value:"Select Subject",required:!0}),l(j,{class:b([e.$page.props.errors.subject?"border-custom ":"","width-100"]),size:"large",value:o.form.subject,"onUpdate:value":r[8]||(r[8]=t=>o.form.subject=t),"show-search":"",placeholder:e.__("Select a subject"),options:i.subjects.map(t=>({value:t.id,label:t.name})),"filter-option":e.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["class","value","placeholder","options","filter-option","onFocus","onBlur","onChange"]),l(c,{error:e.$page.props.errors.subject},null,8,["error"])]),s("div",ue,[l(p,{for:"password",value:"Class Password",required:!0}),l(h,{type:"text",modelValue:o.form.password,"onUpdate:modelValue":r[9]||(r[9]=t=>o.form.password=t),id:"password",name:"password",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter password"),error:e.$page.props.errors.password},null,8,["modelValue","placeholder","error"]),l(c,{error:e.$page.props.errors.password},null,8,["error"])]),s("div",pe,[l(p,{for:"status_waiting",value:"Status",required:!0}),s("div",ce,[s("div",me,[w(s("input",{"onUpdate:modelValue":r[10]||(r[10]=t=>o.form.status=t),id:"status_waiting",type:"radio",value:"waiting",name:"status",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[k,o.form.status]]),s("label",fe,n(e.__("Waiting")),1)]),s("div",ge,[w(s("input",{"onUpdate:modelValue":r[11]||(r[11]=t=>o.form.status=t),id:"status_upcoming",type:"radio",value:"upcoming",name:"status",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[k,o.form.status]]),s("label",_e,n(e.__("Upcoming")),1)]),s("div",be,[w(s("input",{"onUpdate:modelValue":r[12]||(r[12]=t=>o.form.status=t),id:"status_completed",type:"radio",value:"completed",name:"status",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[k,o.form.status]]),s("label",he,n(e.__("Completed")),1)])])]),s("div",null,[l(p,{for:"description",value:e.__("Class Description"),required:!1},null,8,["value"]),l(H,{modelValue:o.form.description,"onUpdate:modelValue":r[13]||(r[13]=t=>o.form.description=t),id:"description",name:"description",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter Description"),error:e.$page.props.errors.description},null,8,["modelValue","placeholder","error"]),l(c,{error:e.$page.props.errors.description},null,8,["error"])]),s("div",ye,[l(_,{cssClass:"",loading:o.form.processing,type:"button",onClick:r[14]||(r[14]=t=>m.submit()),theme:"primary"},{default:d(()=>[f(n(e.__("Save")),1)]),_:1},8,["loading"]),l(_,{loading:!1,type:"button",onClick:r[15]||(r[15]=t=>o.createNewClass=!1),theme:"outline-danger"},{default:d(()=>[f(n(e.__("Cancel")),1)]),_:1})])],32)])):K("",!0)])])]),_:1},8,["title"])}const ze=I(J,[["render",ve],["__scopeId","data-v-7341fe7c"]]);export{ze as default};
