import{c as E,_ as z}from"./AppLayout-pRkTteQX.js";import{P as H}from"./Pagination-BOIqYq_w.js";import{_ as P,N as G,r as a,e as c,o as d,a as n,w as m,b as e,i as u,t as s,c as S,F as k,j as I,h as p,n as Y,l as J,m as K,v as Q,f as F}from"./app-R3TKzMFz.js";import{a as W,b as X}from"./UserIcon-CI54yQqe.js";import{r as Z,a as $}from"./CheckCircleIcon-B4BTDw9l.js";import{r as ee}from"./UserCircleIcon-a0ndF_5Z.js";import{r as te}from"./ArrowUpTrayIcon-QzRqpnZC.js";import{b as se}from"./TopBarMenu-CcNsgK0k.js";import"./index-KXBnMdcv.js";import"./WarningToast-B-mvdry_.js";import"./PlusCircleIcon-GzopV6YD.js";import"./Bars3Icon-BbGKyUny.js";import"./XMarkIcon-8_3jvOSV.js";const oe={props:{assignment:Object,students:Number,submissions:Number,remaining_students:Object,submissions_list:Object,remaining_student_ids:Array},components:{Pagination:H,AppLayout:z,DocumentIcon:X,BookOpenIcon:$,DocumentCheckIcon:E,UsersIcon:se,ArrowUpTrayIcon:te,UserCircleIcon:ee,CheckCircleIcon:Z,CalendarDaysIcon:W,NothingFound:G},data(){return{file_name:"",des_full:!1,submit_des_full:"",modal:!1,form:F.useForm({assignment:this.assignment.id,file:"",description:""}),giveMarkForm:F.useForm({mark:"",assignment:"",completed:!1})}},methods:{str_limit(t,r){return t?(t=t.toString(),t.length<=r?t:t.substr(0,r)+"..."):""},picFile(){this.$refs.assignment_file.click()},giveMark(t,r){this.modal=!0,this.giveMarkForm.assignment=t,this.giveMarkForm.mark=r},change(t){this.form.file=t.target.files[0];let r=t.target.files[0];this.file_name=r.name},remindThem(){this.$inertia.post(route("teacher.remind.them"),{data:this.remaining_student_ids,assignment:this.assignment.id})},storeMark(){this.giveMarkForm.post(this.route("teacher.give.assignment.mark"),{preserveScroll:!0,onSuccess:()=>{this.modal=!1,giveMarkForm.reset("mark")}})},upload(){this.form.post(this.route("assignment.submit"),{preserveScroll:!0,onSuccess:()=>{this.form.reset("assignment","file","description"),this.$refs.assignment_file.value=""}})},submit(){return this.$inertia.post(this.route("teacher.give.assignment.mark"),this.form,{preserveScroll:!0,onSuccess:t=>{this.edit_mark=!1}}),value.substr(0,size)+"..."}}},re={class:"my-2"},ne={class:"grid grid-cols-5 gap-4"},le={class:"col-span-3"},ie={class:"bg-white dark:bg-gray-800 overflow-hidden rounded-lg"},ae={class:"border-b-2 dark:border-b-gray-600 p-4 text-black dark:text-gray-400 text-base font-bold"},de={class:"w-full"},ce={class:"border-b dark:border-b-gray-600 text-left rtl:text-right dark:text-gray-400"},_e={class:"py-4 px-5 whitespace-nowrap"},me={class:"py-4 px-5 whitespace-nowrap"},ue={class:"py-4 px-5 whitespace-nowrap"},ge={class:"py-4 px-5 whitespace-nowrap"},pe={class:"py-4 px-5 whitespace-nowrap"},he={class:"text-left rtl:text-right flex gap-2 items-center"},fe=["src"],be={class:"text-xs font-bold dark:text-gray-400"},ke={class:"text-xs text-gray-500 dark:text-gray-400"},ye={class:"py-4 px-5 whitespace-nowrap"},xe={class:"flex items-center gap-1"},ve=["href"],we={class:"py-4 px-5 cursor-pointer"},Ce={class:"dark:text-gray-400"},Se=["onClick"],Ie=["onClick"],Fe={key:0,class:"text-blue-400"},Me={class:"py-4 px-5 whitespace-nowrap"},De=["onClick"],je={key:1,type:"button",class:"text-blue-500"},Ue={key:2,type:"button",class:"text-gray-500 ml-4"},Ae={class:"flex justify-center"},Be={class:"mt-4"},Te={class:"bg-white dark:bg-gray-800 rounded-lg"},Ve={class:"pt-5 px-4 flex justify-between items-center"},Ne={class:"font-bold dark:text-gray-400"},Oe={class:"grid grid-cols-3 gap-2 p-4"},Le={class:"text-left rtl:text-right flex gap-2 items-center"},Re=["src"],qe={class:"text-xs font-bold text-gray-700 dark:text-gray-400"},Ee={class:"text-xs text-gray-700 dark:text-gray-400"},ze={class:"flex justify-center"},He={class:"col-span-2"},Pe={class:"bg-white dark:bg-gray-800 rounded-lg"},Ge={class:"pt-5 px-4 flex justify-between items-center"},Ye={class:"font-bold dark:text-gray-400"},Je={class:"p-4"},Ke={class:"mb-3 text-left rtl:text-right flex gap-2 items-center"},Qe={class:"text-sm text-gray-500 dark:text-gray-400"},We={class:"text-sm font-bold dark:text-gray-400"},Xe={class:"mb-3 text-left rtl:text-right flex gap-2 items-center"},Ze={class:"text-sm text-gray-500 dark:text-gray-400"},$e={class:"text-sm font-bold dark:text-gray-400"},et={class:"mb-3 text-left rtl:text-right flex gap-2 items-center"},tt={class:"text-sm text-gray-500 dark:text-gray-400"},st={class:"text-sm font-bold dark:text-gray-400"},ot={class:"mb-3 text-left rtl:text-right flex gap-2 items-center"},rt={class:"text-sm text-gray-500 dark:text-gray-400"},nt={class:"text-sm font-bold dark:text-gray-400"},lt={class:"mb-3 text-left rtl:text-right flex gap-2 items-center"},it={class:"text-sm text-gray-500 dark:text-gray-400"},at={class:"mb-3 text-left rtl:text-right flex gap-2 items-center"},dt={class:"cursor-pointer text-sm text-gray-500 dark:text-gray-400 flex gap-2"},ct={class:"flex gap-2"},_t={class:"mb-3 text-left rtl:text-right flex gap-2 items-center"},mt={class:"text-sm text-gray-500 dark:text-gray-400"},ut={class:"text-sm font-bold dark:text-gray-400"},gt={class:"mb-3 text-left rtl:text-right flex gap-2 items-center"},pt={class:"text-sm text-gray-500 dark:text-gray-400"},ht={class:"text-sm font-bold dark:text-gray-400"},ft={class:"mb-3 text-left rtl:text-right flex gap-2 items-center"},bt={class:"text-sm text-gray-500 dark:text-gray-400"},kt={class:"text-sm font-bold dark:text-gray-400"},yt={key:0,class:"bg-white dark:bg-gray-800 mt-4 rounded-lg"},xt={class:"pt-5 px-4 flex justify-between items-center"},vt={class:"font-bold dark:text-gray-400"},wt={class:"p-4"},Ct={class:"mb-3"},St={class:"flex gap-2 items-center"},It={key:0,class:"text-blue-500"},Ft={key:1},Mt={class:"text-gray-500"},Dt={class:"mt-4"},jt={class:"flex gap-2"},Ut={class:"dark:bg-gray-800 dark:p-4 rounded-lg"},At={class:"mb-1 mr-4"},Bt={class:"mb-1 mr-4 mt-3"},Tt={class:"flex items-center"},Vt={for:"completed",class:"ml-2 text-sm font-medium text-gray-400 dark:text-gray-500"};function Nt(t,r,i,Ot,l,_){const M=a("Head"),y=a("BreadcrumbLink"),D=a("Breadcrumb"),j=a("page-header"),h=a("DocumentIcon"),x=a("NothingFound"),v=a("pagination"),U=a("DocumentCheckIcon"),A=a("UserCircleIcon"),B=a("CalendarDaysIcon"),w=a("CheckCircleIcon"),T=a("BookOpenIcon"),V=a("UsersIcon"),g=a("global-label"),N=a("ArrowUpTrayIcon"),f=a("input-error"),O=a("global-textarea"),b=a("global-button"),L=a("global-input"),R=a("a-modal"),q=a("AppLayout");return d(),c(k,null,[n(M,{title:i.assignment.title},null,8,["title"]),n(q,null,{default:m(()=>[n(D,null,{default:m(()=>[n(y,{title:t.__("Assignment")},null,8,["title"]),n(y,{title:i.assignment.title},null,8,["title"])]),_:1}),e("div",re,[n(j,null,{default:m(()=>[u(s(i.assignment.title),1)]),_:1}),e("div",ne,[e("div",le,[e("div",ie,[e("div",ae,s(t.__(" Submission List")),1),e("table",de,[e("thead",ce,[e("th",_e,s(t.__("Student")),1),e("th",me,s(t.__("File")),1),e("th",ue,s(t.__("Description")),1),e("th",ge,s(t.__("Mark")),1)]),e("tbody",null,[i.submissions_list.data.length>0?(d(!0),c(k,{key:0},I(i.submissions_list.data,o=>(d(),c("tr",{key:o.id,class:"text-left rtl:text-right"},[e("td",pe,[e("div",he,[e("img",{class:"w-10 h-10 rounded-full",src:o.student.profile_photo_url,alt:""},null,8,fe),e("div",null,[e("div",be,s(o.student.name),1),e("div",ke,s(t.__("Roll"))+": "+s(o.student&&o.student.profile?o.student.profile.roll_no:""),1)])])]),e("td",ye,[e("div",xe,[n(h,{class:"w-4 h-4 dark:text-gray-400"}),e("a",{href:o.assignment_url,target:"_blank",download:"",class:"text-xs font-bold"},s(t.__("Download File")),9,ve)])]),e("td",we,[e("div",Ce,[l.submit_des_full==o.id?(d(),c("span",{key:0,onClick:C=>l.submit_des_full?l.submit_des_full="":l.submit_des_full=o.id},[u(s(o.description)+" ",1),r[11]||(r[11]=e("span",{class:"text-blue-400"}," see less",-1))],8,Se)):(d(),c("span",{key:1,onClick:C=>l.submit_des_full?l.submit_des_full="":l.submit_des_full=o.id},[u(s(o.description.length>15?o.description.slice(0,15):o.description)+" ",1),o.description.length>15?(d(),c("span",Fe,"see more...")):p("",!0)],8,Ie))])]),e("td",Me,[t.$page.props.auth.role=="Teacher"?(d(),c("button",{key:0,onClick:C=>_.giveMark(o.id,o.gained_mark),type:"button",class:"text-blue-500"},s(o.gained_mark),9,De)):(d(),c("button",je,s(o.gained_mark),1)),o.completed?(d(),c("button",Ue,s(t.__("Completed")),1)):p("",!0)])]))),128)):(d(),S(x,{key:1,asShow:"tr"}))])]),e("div",Ae,[n(v,{class:"mt-6",links:i.submissions_list.links},null,8,["links"])]),r[12]||(r[12]=e("br",null,null,-1))]),e("div",Be,[e("div",Te,[e("div",Ve,[e("div",Ne,s(t.__("Remaining Submissions")),1),t.can("remind.them")?(d(),c("button",{key:0,type:"button",onClick:r[0]||(r[0]=(...o)=>_.remindThem&&_.remindThem(...o)),class:"text-blue-500 font-bold"},s(t.__("Remind Them")),1)):p("",!0)]),e("div",Oe,[i.remaining_students.data.length>0?(d(!0),c(k,{key:0},I(i.remaining_students.data,o=>(d(),c("div",{key:o.id,class:"bg-gray-100 dark:bg-gray-700 p-3 rounded"},[e("div",Le,[e("img",{class:"w-10 h-10 rounded-full",src:o.profile_photo_url,alt:""},null,8,Re),e("div",null,[e("div",qe,s(o.name),1),e("div",Ee,s(t.__("Roll"))+": "+s(o.profile?o.profile.roll_no:""),1)])])]))),128)):(d(),S(x,{key:1,asShow:"div",cssClass:"text-center"})),e("div",ze,[n(v,{class:"mt-6",links:i.remaining_students.links},null,8,["links"])]),r[13]||(r[13]=e("br",null,null,-1))])])])]),e("div",He,[e("div",Pe,[e("div",Ge,[e("div",Ye,s(t.__("Assignment Information")),1)]),e("div",Je,[e("div",null,[e("div",Ke,[n(h,{class:"w-6 h-6 dark:text-gray-400"}),e("div",Qe,s(t.__("Course"))+": ",1),e("div",We,s(i.assignment.class?i.assignment.class.name:""),1)]),e("div",Xe,[n(U,{class:"w-6 h-6 dark:text-gray-400"}),e("div",Ze,s(t.__("Subject"))+": ",1),e("div",$e,s(i.assignment.subject?i.assignment.subject.name:""),1)]),e("div",et,[n(A,{class:"w-6 h-6 dark:text-gray-400"}),e("div",tt,s(t.__("Teacher"))+": ",1),e("div",st,s(i.assignment.teacher?i.assignment.teacher.name:""),1)]),e("div",ot,[n(B,{class:"w-6 h-6 dark:text-gray-400"}),e("div",rt,s(t.__("Due Date"))+": ",1),e("div",nt,s(i.assignment.deadline??""),1)]),e("div",lt,[n(w,{class:"w-6 h-6 dark:text-gray-400"}),e("div",it,s(t.__("Status"))+": ",1),e("div",{class:Y([i.assignment.status=="Expired"?"bg-red-500":"bg-blue-500","rounded-full text-blue-100 px-3 dark:text-gray-900"])},[e("div",null,s(i.assignment.status??""),1)],2)]),e("div",at,[e("div",dt,[e("span",ct,[n(T,{class:"w-6 h-6 dark:text-gray-400"}),e("span",null,s(t.__("Description"))+":",1)]),l.des_full?(d(),c("div",{key:0,onClick:r[1]||(r[1]=o=>l.des_full?l.des_full=!1:l.des_full=!0)},s(i.assignment.description),1)):(d(),c("div",{key:1,onClick:r[2]||(r[2]=o=>l.des_full?l.des_full=!1:l.des_full=!0)},s(_.str_limit(i.assignment.description,60)),1))])]),r[14]||(r[14]=e("div",{class:"border-b-2 dark:border-b-gray-600 mb-2"},null,-1)),e("div",_t,[n(V,{class:"w-6 h-6 dark:text-gray-400"}),e("div",mt,s(t.__("Student"))+": ",1),e("div",ut,s(i.students)+" "+s(t.__("Total Students")),1)]),e("div",gt,[n(w,{class:"w-6 h-6 dark:text-gray-400"}),e("div",pt,s(t.__("Submission"))+": ",1),e("div",ht,s(i.submissions)+" "+s(t.__("Submissions")),1)]),e("div",ft,[n(h,{class:"w-6 h-6 dark:text-gray-400"}),e("div",bt,s(t.__("Remaining"))+": ",1),e("div",kt,s(i.students-i.submissions)+" "+s(t.__("Students Remaining")),1)])])])]),t.$page.props.auth.role=="Student"?(d(),c("div",yt,[e("div",xt,[e("div",vt,s(t.__("Submit Your Assignment")),1)]),e("div",wt,[e("form",{onSubmit:r[6]||(r[6]=J((...o)=>_.upload&&_.upload(...o),["prevent"]))},[e("div",Ct,[n(g,{for:"file",value:"File",required:!0}),e("button",{type:"button",onClick:r[3]||(r[3]=(...o)=>_.picFile&&_.picFile(...o)),class:"bg-gray-100 dark:bg-gray-700 w-full py-2.5 px-3 rounded-lg"},[e("div",St,[e("div",null,[n(N,{class:"w-6 h-6"})]),e("div",null,[l.file_name?(d(),c("span",It,s(l.file_name),1)):(d(),c("span",Ft,s(t.__("Upload File")),1))])])]),e("span",Mt,s(t.__("Supported format - png, jpg, jpeg, pdf, zip, doc, docx")),1),e("input",{onChange:r[4]||(r[4]=(...o)=>_.change&&_.change(...o)),accept:"image/*,application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",type:"file",ref:"assignment_file",class:"hidden",readonly:""},null,544),n(f,{error:t.$page.props.errors.file},null,8,["error"])]),e("div",Dt,[n(g,{for:"description",value:"Description",required:!1}),n(O,{id:"description",modelValue:l.form.description,"onUpdate:modelValue":r[5]||(r[5]=o=>l.form.description=o),type:"text",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.__("Description"),error:t.$page.props.errors.description},null,8,["modelValue","placeholder","error"]),n(f,{error:t.$page.props.errors.description},null,8,["error"])]),n(b,{loading:l.form.processing,type:"submit",cssClass:"mt-3",theme:"primary"},{default:m(()=>[u(s(i.assignment.submitted_done?t.__("Submit Again"):t.__("Submit")),1)]),_:1},8,["loading"])],32)])])):p("",!0)])])]),n(R,{visible:l.modal,"onUpdate:visible":r[10]||(r[10]=o=>l.modal=o),width:"400px",title:"Give Mark",onOk:t.handleOk},{footer:m(()=>[e("div",jt,[n(b,{loading:t.loading,type:"button",onClick:_.storeMark,theme:"primary"},{default:m(()=>[u(s(t.__("Save")),1)]),_:1},8,["loading","onClick"]),n(b,{loading:!1,type:"button",onClick:r[7]||(r[7]=o=>l.modal=!1),theme:"outline-danger"},{default:m(()=>[u(s(t.__("Cancel")),1)]),_:1})])]),default:m(()=>[e("form",Ut,[e("div",At,[n(g,{for:"mark",value:"Mark",required:!0}),n(L,{type:"number",modelValue:l.giveMarkForm.mark,"onUpdate:modelValue":r[8]||(r[8]=o=>l.giveMarkForm.mark=o),id:"mark",name:"mark",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.__("Mark Amount"),error:t.$page.props.errors.mark},null,8,["modelValue","placeholder","error"]),n(f,{error:t.$page.props.errors.mark},null,8,["error"])]),e("div",Bt,[n(g,{for:"completed",value:"Completed",required:!1}),e("div",Tt,[K(e("input",{"onUpdate:modelValue":r[9]||(r[9]=o=>l.giveMarkForm.completed=o),id:"completed",type:"checkbox",value:"",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[Q,l.giveMarkForm.completed]]),e("label",Vt,s(t.__("Mark As Completed")),1)])])])]),_:1},8,["visible","onOk"])]),_:1})],64)}const Xt=P(oe,[["render",Nt]]);export{Xt as default};
