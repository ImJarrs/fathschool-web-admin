import{_ as q}from"./AppLayout-D06oZWsy.js";import{T as D}from"./ToolTip-DNh-kznG.js";import{P}from"./Pagination-DHbdUHOs.js";import{s as T}from"./multiselect-BtWcUH1S.js";/* empty css                */import{_ as A,N as O,r,e as p,o as d,a as o,w as c,b as s,i as h,t as i,l as k,h as E,c as G,F as v,j as H,n as z}from"./app-B4siR4nP.js";import{r as K}from"./MagnifyingGlassIcon-D3UcIlUc.js";import{r as J}from"./PencilSquareIcon-D3Yw7vGl.js";import{r as Q}from"./TrashIcon-Y0IuqUC6.js";import"./index-DtyboiO1.js";import"./TopBarMenu-nQHiLmrq.js";import"./CheckCircleIcon-DRQ2Sg4c.js";import"./XMarkIcon-BWTnXq2K.js";import"./WarningToast-C-jPV3vQ.js";import"./UserIcon-C-1rgfXS.js";import"./PlusCircleIcon-BZ251gFF.js";import"./Bars3Icon-C3NvXC29.js";const R={props:{syllabuses:Object,classes:Object,subjects:Object,errors:Object,filter_data:Object},components:{AppLayout:q,TrashIcon:Q,ToolTip:D,PencilSquareIcon:J,Pagination:P,MagnifyingGlassIcon:K,Multiselect:T,NothingFound:O},data(){return{loading:!1,loading1:!1,update:!1,subjects_data:[],form:{id:"",teacher:this.$page.props.user.id,subject:"",class:"",syllabus:"",_method:null},filter:{title:this.filter_data.title??"",class:this.filter_data.class??"",subject:this.filter_data.subject??""}}},watch:{"form.class":{deep:!0,handler(e,l){this.subject_filter(e)}}},mounted(){var e;this.subject_filter((e=this.classes[0])==null?void 0:e.id)},methods:{picFile(e){this.form.syllabus=e.target.files[0]},subject_filter(e){this.subjects_data=[],this.subjects.forEach(l=>{l.course_id==e&&this.subjects_data.push(l)})},submit(){this.loading1=!0,this.update?this.$inertia.post(this.route("syllabus.update",this.form.id),this.form,{onSuccess:e=>{this.index()},onFinish:e=>{this.loading1=!1}}):this.$inertia.post(this.route("syllabus.store"),this.form,{onSuccess:e=>{this.index()},onFinish:e=>{this.loading1=!1}})},edit(e){this.form.id=e.id,this.form.teacher=e.user_id,this.form.class=e.course_id,this.form.subject=e.subject_id,this.form._method="PUT",this.update=!0},index(){this.$inertia.get(this.route("syllabus.index"))},destroy(e){if(confirm("Are you sure ?"))this.$inertia.delete(this.route("syllabus.destroy",e),{onSuccess:l=>{}});else return!1},filterData(){this.loading=!0,this.$inertia.get(this.route("syllabus.index"),this.filter,{onFinish:e=>{this.loading=!1},preserveScroll:!0})}}},W={class:"my-6"},X={class:"col-span-2"},Y={class:"relative w-full"},Z={type:"button",class:"absolute top-[1px] right-0 p-2.5 rounded-r text-gray-400 hover:text-gray-700 bg-blue-500 text-sm hover:bg-gray-400 border-l dark:border-gray-600"},$={class:"col-span-2"},ee={class:"col-span-1 text-right"},te={class:"mt-2 grid gap-6 grid-cols-1 md:grid-cols-3"},se={class:"col-span-2"},oe={class:"py-4 px-5 whitespace-nowrap"},le={class:"py-4 px-5 whitespace-nowrap"},re={class:"py-4 px-5 whitespace-nowrap"},ae={width:"10%",class:"py-4 px-5 whitespace-nowrap"},ie={class:"py-4 px-5 whitespace-nowrap"},ne={class:"py-4 px-5 whitespace-nowrap"},de={class:"py-4 px-5 whitespace-nowrap"},ce=["onClick"],ue={class:"py-4 px-5 whitespace-nowrap"},pe={class:"flex items-start gap-2 text-gray-900 whitespace-nowrap dark:text-white"},_e=["onClick","id"],me=["onClick","id"],be={key:0,class:"flex justify-center"},he={class:"w-full bg-white rounded-lg dark:bg-gray-800 text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},fe={class:"p-3 text-gray-700 font-bold mt-2 ml-3 dark:text-gray-400"},ge={key:0,class:"flex items-center justify-between"},ye={class:"font-medium text-sm text-black dark:text-gray-400"},ke={key:1,class:"font-medium text-sm text-black dark:text-gray-400"},ve={class:"ml-6 mr-6"},we={class:"mt-3 ml-6 mr-6"},xe={class:"mt-3 ml-6 mr-6"},je={class:"p-4 flex justify-end"};function Se(e,l,u,Ce,a,n){const w=r("Head"),x=r("BreadcrumbLink"),j=r("Breadcrumb"),S=r("page-header"),C=r("global-input"),V=r("MagnifyingGlassIcon"),_=r("Multiselect"),f=r("global-button"),F=r("PencilSquareIcon"),g=r("tool-tip"),L=r("trash-icon"),N=r("NothingFound"),B=r("global-table"),I=r("pagination"),M=r("back-button"),m=r("global-label"),b=r("input-error"),U=r("AppLayout");return d(),p(v,null,[o(w,{title:e.__("Syllabus List")},null,8,["title"]),o(U,null,{default:c(()=>[o(j,null,{default:c(()=>[o(x,{title:e.__("Syllabus List")},null,8,["title"])]),_:1}),s("div",W,[o(S,null,{default:c(()=>[h(i(e.__("Syllabus List")),1)]),_:1}),s("form",{onSubmit:l[2]||(l[2]=k((...t)=>n.filterData&&n.filterData(...t),["prevent"])),class:"items-center grid grid-cols-1 md:grid-cols-7 gap-4"},[s("div",X,[s("div",Y,[o(C,{type:"search",modelValue:a.filter.title,"onUpdate:modelValue":l[0]||(l[0]=t=>a.filter.title=t),class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Keyword")},null,8,["modelValue","placeholder"]),s("button",Z,[o(V,{class:"w-6 h-6 text-white font-bold"})])])]),s("div",$,[o(_,{modelValue:a.filter.class,"onUpdate:modelValue":l[1]||(l[1]=t=>a.filter.class=t),"close-on-select":!0,searchable:!0,"create-option":!1,placeholder:e.__("Select Course"),options:u.classes.map(t=>({value:t.slug,label:t.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"])]),s("div",ee,[o(f,{loading:a.loading,type:"submit",theme:"primary"},{default:c(()=>[h(i(e.__("Search")),1)]),_:1},8,["loading"])])],32),s("div",te,[s("div",se,[o(B,null,{head:c(()=>[s("th",oe,i(e.__("Subject")),1),s("th",le,i(e.__("Course")),1),s("th",re,i(e.__("Syllabus")),1),s("th",ae,i(e.__("Action")),1)]),body:c(()=>[u.syllabuses.data.length>0?(d(!0),p(v,{key:0},H(u.syllabuses.data,t=>(d(),p("tr",{key:t.id,class:"text-left rtl:text-right border-t dark:border-gray-600 hover:bg-gray-200 dark:hover:bg-gray-600"},[s("td",ie,i(t.subject.name),1),s("td",ne,i(t.class.name),1),s("td",de,[s("button",{onClick:y=>e.download(t.syllabus),class:"text-blue-500 cursor-pointer"},i(e.__("Download Syllabus")),9,ce)]),s("td",ue,[s("div",pe,[s("button",{type:"button",onClick:y=>n.edit(t),class:"group relative",id:"editSyllabus"+t.id},[o(F,{class:"text-blue-400 w-6 h-6 hover:text-blue-300"}),o(g,{text:"Edit"})],8,_e),s("button",{type:"button",onClick:y=>n.destroy(t.id),class:"group relative",id:"deleteSyllabus"+t.id},[o(L,{class:"w-6 h-6 text-red-400 hover:text-red-300"}),o(g,{text:e.__("Delete")},null,8,["text"])],8,me)])])]))),128)):(d(),G(N,{key:1,asShow:"tr"}))]),_:1}),u.syllabuses.data.length>0?(d(),p("div",be,[o(I,{class:"mt-6",links:u.syllabuses.links},null,8,["links"])])):E("",!0)]),s("div",he,[s("div",fe,[a.update?(d(),p("div",ge,[s("span",ye,i(e.__("Update Syllabus")),1),s("div",{onClick:l[3]||(l[3]=(...t)=>n.index&&n.index(...t))},[o(M)])])):(d(),p("span",ke,i(e.__("Create New Syllabus")),1))]),s("form",{class:"mt-2",onSubmit:l[7]||(l[7]=k(t=>n.submit(),["prevent"]))},[s("div",ve,[o(m,{for:"class",value:"Select Course",required:!0}),o(_,{id:"class",modelValue:a.form.class,"onUpdate:modelValue":l[4]||(l[4]=t=>a.form.class=t),"close-on-select":!0,"can-clear":!1,searchable:!0,"create-option":!1,placeholder:e.__("Select Course"),options:u.classes.map(t=>({value:t.id,label:t.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"]),o(b,{error:e.$page.props.errors.class},null,8,["error"])]),s("div",we,[o(m,{for:"subject",value:"Select Subject",required:!0}),o(_,{id:"subject",modelValue:a.form.subject,"onUpdate:modelValue":l[5]||(l[5]=t=>a.form.subject=t),"close-on-select":!0,"can-clear":!1,searchable:!0,"create-option":!1,placeholder:e.__("Select Subject"),options:a.subjects_data.map(t=>({value:t.id,label:t.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"]),o(b,{error:e.$page.props.errors.subject},null,8,["error"])]),s("div",xe,[o(m,{for:"syllabus",value:"Upload Syllabus",required:!0}),s("input",{type:"file",onChange:l[6]||(l[6]=t=>n.picFile(t)),id:"syllabus",ref:"fileInput",class:z([e.$page.props.errors.syllabus?"border-red-500 dark:border-red-500":"","bg-gray-50 rounded-lg border border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"])},null,34),o(b,{error:e.$page.props.errors.syllabus},null,8,["error"])]),s("div",je,[o(f,{loading:a.loading1,type:"submit",cssClass:"mr-2",theme:"primary"},{default:c(()=>[h(i(e.__("Save")),1)]),_:1},8,["loading"])])],32)])])])]),_:1})],64)}const ze=A(R,[["render",Se]]);export{ze as default};
