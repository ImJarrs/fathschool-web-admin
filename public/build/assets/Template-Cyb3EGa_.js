import{_ as L}from"./AppLayout-D06oZWsy.js";import{P as F}from"./Pagination-DHbdUHOs.js";import{T as N}from"./ToolTip-DNh-kznG.js";import{_ as k,N as B,r as o,e as u,o as n,a as s,w as p,c as y,F as $,j as w,b as t,t as i,m as V,H as q,i as x,l as S,h as T}from"./app-B4siR4nP.js";import{r as U}from"./PencilSquareIcon-D3Yw7vGl.js";import{r as M}from"./TrashIcon-Y0IuqUC6.js";import"./index-DtyboiO1.js";import"./TopBarMenu-nQHiLmrq.js";import"./CheckCircleIcon-DRQ2Sg4c.js";import"./XMarkIcon-BWTnXq2K.js";import"./WarningToast-C-jPV3vQ.js";import"./UserIcon-C-1rgfXS.js";import"./PlusCircleIcon-BZ251gFF.js";import"./Bars3Icon-C3NvXC29.js";const A={props:{templates:Array},components:{ToolTip:N,TrashIcon:M,PencilSquareIcon:U,NothingFound:B},methods:{destroy(e){if(confirm("Are you sure ?"))this.$inertia.delete(this.route("sms.template.destroy",e));else return!1},edit(e){this.$emit("edit",e)}}},K={class:"col-span-2 bg-white dark:bg-gray-800 dark:text-gray-600 rounded-lg"},P={class:"py-5 px-5"},j={class:"py-5 px-5"},D={width:"10%",class:"py-5"},E={class:"py-5 px-5"},I={class:"py-5 px-5"},O={class:"py-5 px-5 flex gap-2"},H=["onClick"],z=["onClick"];function G(e,r,b,v,a,d){const c=o("PencilSquareIcon"),g=o("tool-tip"),h=o("trash-icon"),_=o("NothingFound"),m=o("global-table");return n(),u("div",K,[s(m,null,{head:p(()=>[t("th",P,i(e.__("Title")),1),t("th",j,i(e.__("Message")),1),t("th",D,i(e.__("Action")),1)]),body:p(()=>[b.templates.length>0?(n(!0),u($,{key:0},w(b.templates,l=>(n(),u("tr",{key:l.id,class:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[t("td",E,i(l.title),1),t("td",I,i(l.message),1),t("td",O,[t("button",{type:"button",onClick:f=>d.edit(l),class:"group relative"},[s(c,{class:"w-6 h-6 text-blue-400 hover:text-blue-300"}),s(g,{text:"Edit"})],8,H),t("button",{type:"button",onClick:f=>d.destroy(l.id),class:"group relative"},[s(h,{class:"w-6 h-6 text-red-400 hover:text-red-300"}),s(g,{text:e.__("Delete")},null,8,["text"])],8,z)])]))),128)):(n(),y(_,{key:1,asShow:"tr"}))]),_:1})])}const J=k(A,[["render",G]]),Q={data(){return{loading:!1,form:{title:"",message:""},maxLength:320,uniqueKey:{name:"{name}",email:"{email}",phone:"{phone}"}}},methods:{insertValue(e){this.form.message+=this.uniqueKey[e]},submit(){this.loading=!0,this.$inertia.post(this.route("sms.template.store"),this.form,{onSuccess:()=>{this.form.title="",this.form.message=""},onFinish:e=>{this.loading=!1}})}},computed:{remainingCharacters(){return this.maxLength-this.form.message.length}}},R={class:"w-full p-4 dark:bg-gray-800 dark:border-gray-700"},W={class:"mb-2"},X={class:"mb-2"},Y=["placeholder"],Z={class:"text-right"},ee=["onClick"];function te(e,r,b,v,a,d){const c=o("global-label"),g=o("global-input"),h=o("input-error"),_=o("global-button");return n(),u("form",{onSubmit:r[2]||(r[2]=S((...m)=>d.submit&&d.submit(...m),["prevent"]))},[t("div",R,[t("div",W,[s(c,{for:"title",value:"Title",required:!1}),s(g,{type:"text",id:"title",modelValue:a.form.title,"onUpdate:modelValue":r[0]||(r[0]=m=>a.form.title=m),name:"title",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Title"),error:e.$page.props.errors.title},null,8,["modelValue","placeholder","error"]),s(h,{error:e.$page.props.errors.title},null,8,["error"])]),t("div",X,[s(c,{for:"message",value:"Message",required:!1}),V(t("textarea",{rows:"8","onUpdate:modelValue":r[1]||(r[1]=m=>a.form.message=m),name:"message",placeholder:e.__("Message"),id:"message",maxlength:"320",class:"pl-4 bg-gray-50 border rounded-lg border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,8,Y),[[q,a.form.message]]),t("p",Z,i(d.remainingCharacters)+" characters remaining",1)]),r[3]||(r[3]=t("b",null,"Dynamic Tag :",-1)),(n(!0),u($,null,w(a.uniqueKey,(m,l)=>(n(),u("button",{key:l,type:"button",class:"bg-transparent border border-gray-700 text-gray-700 dark:border-gray-300 dark:text-gray-300 mx-1 px-2 py-1 rounded-lg",onClick:f=>d.insertValue(l)},i(m),9,ee))),128))]),s(_,{loading:a.loading,type:"submit",class:"text-white bg-blue-500 dark:bg-blue-500 hover:bg-blue-500 active:bg-blue-600 dark:active:bg-blue-600 focus:border-blue-600 dark:focus:border-blue-600 focus:ring focus:ring-blue-300 rtl:ml-0 rtl:mr-5 ml-5 mb-6 dark:focus:ring-blue-300"},{default:p(()=>[x(i(e.__("Save")),1)]),_:1},8,["loading"]),r[4]||(r[4]=t("br",null,null,-1))],32)}const re=k(Q,[["render",te]]),oe={props:{template:Object},data(){return{loading:!1,form:{title:this.template.title,message:this.template.message,_method:"PUT"},maxLength:320,uniqueKey:{name:"{name}",email:"{email}",phone:"{phone}"}}},methods:{insertValue(e){this.form.message+=this.uniqueKey[e]},submit(){this.loading=!0,this.$inertia.post(this.route("sms.template.update",this.template.id),this.form,{onSuccess:()=>{this.$inertia.get(this.route("sms.template.index"))},onFinish:e=>{this.loading=!1}})}},computed:{remainingCharacters(){return this.maxLength-this.form.message.length}}},se={class:"w-full p-4 dark:bg-gray-800 dark:border-gray-700"},ae={class:"mb-2"},le={class:"mb-2"},ne=["placeholder"],ie={class:"text-right"},de=["onClick"],me={class:"flex gap-2 ml-5"};function ue(e,r,b,v,a,d){const c=o("global-label"),g=o("global-input"),h=o("input-error"),_=o("global-button"),m=o("Link");return n(),u("form",{onSubmit:r[2]||(r[2]=S((...l)=>d.submit&&d.submit(...l),["prevent"]))},[t("div",se,[t("div",ae,[s(c,{for:"title",value:"Title",required:!1}),s(g,{type:"text",id:"title",modelValue:a.form.title,"onUpdate:modelValue":r[0]||(r[0]=l=>a.form.title=l),name:"title",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Title"),error:e.$page.props.errors.title},null,8,["modelValue","placeholder","error"]),s(h,{error:e.$page.props.errors.title},null,8,["error"])]),t("div",le,[s(c,{for:"message",value:"Message",required:!1}),V(t("textarea",{rows:"8","onUpdate:modelValue":r[1]||(r[1]=l=>a.form.message=l),name:"message",placeholder:e.__("Message"),id:"message",maxlength:"320",class:"pl-4 bg-gray-50 border rounded-lg border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,8,ne),[[q,a.form.message]]),t("p",ie,i(d.remainingCharacters)+" characters remaining",1),r[3]||(r[3]=t("b",null,"Dynamic Tag :",-1)),(n(!0),u($,null,w(a.uniqueKey,(l,f)=>(n(),u("button",{key:f,type:"button",class:"bg-transparent border border-gray-700 text-gray-700 dark:border-gray-300 dark:text-gray-300 mx-1 px-2 py-1 rounded-lg",onClick:C=>d.insertValue(f)},i(l),9,de))),128))])]),t("div",me,[s(_,{loading:a.loading,type:"submit",theme:"primary",class:"mr-2"},{default:p(()=>[x(i(e.__("Update")),1)]),_:1},8,["loading"]),s(m,{"preserve-scroll":"",href:e.route("sms.template.index")},{default:p(()=>[s(_,{loading:!1,type:"button",theme:"outline-danger"},{default:p(()=>[x(i(e.__("Cancel")),1)]),_:1})]),_:1},8,["href"])]),r[4]||(r[4]=t("br",null,null,-1))],32)}const ce=k(oe,[["render",ue]]),pe={components:{AppLayout:L,Pagination:F,TableContent:J,CreateForm:re,UpdateForm:ce},props:{templates:Object},data(){return{update:!1,template:""}},methods:{edit(e){this.update=!0,this.template=e}}},ge={class:"pb-12"},_e={class:"dark:text-gray-400 font-semibold"},be={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mx-auto"},he={class:"md:col-span-2"},fe={class:"flex justify-center"},ye={class:"md:col-span-1"},ke={class:"w-full bg-white rounded-lg dark:bg-gray-800 text-sm rtl:text-right text-left text-gray-500 dark:text-gray-400"},ve={class:"p-4 text-gray-700 font-bold border-b-2 dark:border-gray-600 rounded-t-lg dark:bg-gray-800 dark:text-gray-400"},xe={key:0},$e={class:"flex justify-between"},we={key:1};function Ce(e,r,b,v,a,d){const c=o("BreadcrumbLink"),g=o("Breadcrumb"),h=o("page-header"),_=o("table-content"),m=o("pagination"),l=o("create-form"),f=o("update-form"),C=o("AppLayout");return n(),y(C,{title:e.__("Sms Template")},{default:p(()=>[s(g,null,{default:p(()=>[s(c,{title:"Sms Template"})]),_:1}),t("div",ge,[s(h,null,{default:p(()=>[t("div",_e,i(e.__("Sms Template")),1)]),_:1}),t("div",be,[t("div",he,[s(_,{onEdit:d.edit,templates:b.templates},null,8,["onEdit","templates"]),t("div",fe,[s(m,{class:"mt-6",links:b.templates.links},null,8,["links"])])]),t("div",ye,[t("div",ke,[t("div",ve,[a.update?(n(),u("div",xe,[t("div",$e,[t("div",null,i(e.__("Update")),1)])])):(n(),u("div",we,i(e.__("Create New")),1))]),a.update?T("",!0):(n(),y(l,{key:0})),a.update?(n(),y(f,{key:1,template:a.template},null,8,["template"])):T("",!0)])])])])]),_:1},8,["title"])}const De=k(pe,[["render",Ce]]);export{De as default};
