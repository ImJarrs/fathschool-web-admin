import{g as f,f as g,r as p,e as a,o as r,a as e,u as n,w as d,b as m,F as l,i as c,t as i,l as b,G as F}from"./app-B4siR4nP.js";import{J as I}from"./AuthenticationCard-l5pb5f4r.js";import{_ as k}from"./Input-DhuFA5gF.js";import{_ as h}from"./Label-XHw2mANQ.js";import{_ as T}from"./ValidationErrors-Cl-_NAKl.js";const U={class:"mb-4 text-sm text-gray-600"},L={key:0},N={key:1},$={class:"flex items-center justify-end mt-4"},A={__name:"TwoFactorChallenge",setup(E){const s=f(!1),o=g.useForm({code:"",recovery_code:""}),y=f(null),v=f(null),w=async()=>{s.value^=!0,await F(),s.value?(y.value.focus(),o.code=""):(v.value.focus(),o.recovery_code="")},x=()=>{o.post(route("two-factor.login"))};return(t,u)=>{const C=p("app-logo"),V=p("Link"),B=p("global-button");return r(),a(l,null,[e(n(g.Head),{title:t.__("Two-factor Confirmation")},null,8,["title"]),e(I,null,{logo:d(()=>[e(V,{class:"flex-none text-xl font-semibold dark:text-white",href:t.route("dashboard"),"aria-label":"Brand"},{default:d(()=>[e(C,{class:"block h-1/2 w-auto"})]),_:1},8,["href"])]),default:d(()=>[m("div",U,[s.value?(r(),a(l,{key:1},[c(i(t.__("Please confirm access to your account by entering one of your emergency recovery codes")),1)],64)):(r(),a(l,{key:0},[c(i(t.__("Please confirm access to your account by entering the authentication code provided by your authenticator application"))+". ",1)],64))]),e(T,{class:"mb-4"}),m("form",{onSubmit:b(x,["prevent"])},[s.value?(r(),a("div",N,[e(h,{for:"recovery_code",value:"Recovery Code"}),e(k,{id:"recovery_code",ref_key:"recoveryCodeInput",ref:y,modelValue:n(o).recovery_code,"onUpdate:modelValue":u[1]||(u[1]=_=>n(o).recovery_code=_),type:"text",class:"mt-1 block w-full",autocomplete:"one-time-code"},null,8,["modelValue"])])):(r(),a("div",L,[e(h,{for:"code",value:"Code"}),e(k,{id:"code",ref_key:"codeInput",ref:v,modelValue:n(o).code,"onUpdate:modelValue":u[0]||(u[0]=_=>n(o).code=_),type:"text",inputmode:"numeric",class:"mt-1 block w-full",autofocus:"",autocomplete:"one-time-code"},null,8,["modelValue"])])),m("div",$,[m("button",{type:"button",class:"text-sm text-gray-600 hover:text-gray-900 underline cursor-pointer",onClick:b(w,["prevent"])},[s.value?(r(),a(l,{key:1},[c(i(t.__("Use an authentication code")),1)],64)):(r(),a(l,{key:0},[c(i(t.__("Use a recovery code")),1)],64))]),e(B,{loading:n(o).processing,type:"submit",cssClass:"ml-4",theme:"primary"},{default:d(()=>[c(i(t.__("Login")),1)]),_:1},8,["loading"])])],32)]),_:1})],64)}}};export{A as default};
